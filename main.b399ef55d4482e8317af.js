!function(){var t={169:function(t){t.exports=function(t){t?document.querySelector(".gameBoardcomputer").remove():document.querySelector(".gameBoardplayer").remove()}},325:function(t){t.exports=function(){document.querySelector(".gameBoardplayer").remove()}},923:function(t){t.exports=function(){document.querySelector(".winner").remove()}},756:function(t){t.exports=function(t){var e=document.createElement("p");e.className="winner",e.textContent=t?"Congratulations! You won!":"Enemy won!",document.querySelector(".buttonrestart").style.display="block",document.querySelector("main").append(e),Array.from(document.querySelectorAll(".divRowcomputer")).forEach((function(t){t.classList.remove("divRowcomputer"),t.classList.add("divRow-nohover")}))}},890:function(t){t.exports=function(t,e){var n=document.createElement("div");n.classList.add("gameBoard"+t,"gameBoard");for(var r=function(r){var o=document.createElement("div");o.classList.add("divColumn"+t,"divColumn");for(var a=function(n){var a=document.createElement("div");a.setAttribute("data-coordinates",[n,r]),a.classList.add("divRow"+t,"divRow"),"player"==t&&e.flat().some((function(t){return t[0]==n&&t[1]==r}))&&(a.classList.add("ship","divRow-nohover"),a.classList.remove("divRow")),o.appendChild(a)},i=0;i<10;i++)a(i);n.insertBefore(o,n.firstChild)},o=0;o<10;o++)r(o);"player"==t?document.querySelector(".rightplayer").append(n):document.querySelector(".rightcomputer").append(n)}},506:function(t){t.exports={renderMissedShot:function(t,e){document.querySelector(".divRow".concat(t,'[data-coordinates="').concat(e,'"]')).classList.add("missedshot")},renderHit:function(t,e){document.querySelector(".divRow".concat(t,'[data-coordinates="').concat(e,'"]')).classList.add("hit")}}},778:function(t,e,n){function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);i=!0);}catch(t){c=!0,o=t}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(t,e)||a(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=a(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){u=!0,i=t},f:function(){try{c||null==n.return||n.return()}finally{if(u)throw i}}}}function a(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var c=n(536),u=n(890),s=n(325),f=n(756),l=n(169),d=n(923),p=n(506),v=p.renderMissedShot,m=p.renderHit;t.exports=function(t){var e=[],n=[],a=[],i=function(){for(var t=0;t<=9;t++)for(var e=0;e<=9;e++)a.push([e,t])},p=function(){return n.map((function(t){return t.coordinates}))},h=function(){return e.length==n.length&&(console.log(!0),f(t),!0)},y=function t(e){var n,r,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],c=JSON.stringify(a);0==i.length?(n=Math.floor(Math.random()*a.length),r=a[n]):i.forEach((function(t){o=a.filter((function(e){return e[0]!=t[0]||e[1]!=t[1]})),n=Math.floor(Math.random()*o.length),r=o[n]}));for(var u=0;u<e;u++){var s=JSON.stringify([r[0],r[1]+u]);if(i.push(r),-1==c.indexOf(s))return t(e,i)}for(var f=function(t){a=(a=(a=a.filter((function(e){return r[0]!=e[0]||r[1]+t!=e[1]}))).filter((function(e){return r[0]+1!=e[0]||r[1]+t!=e[1]}))).filter((function(e){return r[0]-1!=e[0]||r[1]+t!=e[1]}))},l=-1;l<e+1;l++)f(l);return[r[0],r[1]]},g=function t(e){var n,r,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],c=JSON.stringify(a);0==i.length?(n=Math.floor(Math.random()*a.length),r=a[n]):i.forEach((function(t){o=a.filter((function(e){return e[0]!=t[0]||e[1]!=t[1]})),n=Math.floor(Math.random()*o.length),r=o[n]}));for(var u=0;u<e;u++){var s=JSON.stringify([r[0]+u,r[1]]);if(i.push(r),-1==c.indexOf(s))return t(e,i)}for(var f=function(t){a=(a=(a=a.filter((function(e){return r[0]+t!=e[0]||r[1]!=e[1]}))).filter((function(e){return r[0]+t!=e[0]||r[1]+1!=e[1]}))).filter((function(e){return r[0]+t!=e[0]||r[1]-1!=e[1]}))},l=-1;l<e+1;l++)f(l);return console.log(r[0]),[r[0],r[1]]},b=function(){var t,e,a,i=["horizontal","vertical"],u=o([c(4),c(3),c(3),c(2),c(2),c(2),c(1),c(1),c(1),c(1)]);try{for(u.s();!(a=u.n()).done;){var s=a.value,f=Math.floor(2*Math.random()),l=[];switch(i[f]){case"horizontal":var d=r(g(s.length),2);t=d[0],e=d[1];for(var p=0;p<s.length;p++)l.push([t+p,e]);n.push({ship:s,coordinates:l});break;case"vertical":var v=r(y(s.length),2);t=v[0],e=v[1];for(var m=0;m<s.length;m++)l.push([t,e+m]);n.push({ship:s,coordinates:l})}}}catch(t){u.e(t)}finally{u.f()}};return i(),b(),u(t?"computer":"player",p()),{recieveAttack:function(t,r){var a,i=o(n);try{for(i.s();!(a=i.n()).done;){var c,u=a.value,s=o(u.coordinates);try{for(s.s();!(c=s.n()).done;){var f=c.value;if(f[0]==t[0]&&f[1]==t[1])return"Ship sunked"==u.ship.hit()&&e.push(u),m(r?"computer":"player",t),void h()}}catch(t){s.e(t)}finally{s.f()}}}catch(t){i.e(t)}finally{i.f()}return v(r?"computer":"player",t)},randomize:function(){n=[],a=[],i(),b(),s(),u("player",p())},restart:function(){e=[],n=[],a=[],d(),i(),b(),l(t),u(t?"computer":"player",p())},checkGameEnd:h}}},246:function(t,e,n){var r=n(778);t.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=r(t),n=[];if(1==t)for(var o=0;o<=9;o++)for(var a=0;a<=9;a++)n.push([a,o]);function i(){var t=Math.floor(Math.random()*n.length);return n.splice(t,1).flat()}var c=function(e,n){if(1!=t)e.gameBoard.recieveAttack(n,e.isComputer);else{var r=i();e.gameBoard.recieveAttack(r,e.isComputer)}};return{attack:c,gameBoard:e,isComputer:t}}},536:function(t){t.exports=function(t){var e=0;return{hit:function(){if((e+=1)>=t)return"Ship sunked"},length:t}}},495:function(t,e,n){"use strict";var r=n(537),o=n.n(r),a=n(645),i=n.n(a)()(o());i.push([t.id,"// extracted by mini-css-extract-plugin\nexport {};","",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"AAAA;QACQ,CAAA",sourcesContent:["// extracted by mini-css-extract-plugin\nexport {};"],sourceRoot:""}]),e.Z=i},645:function(t){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,o,a){"string"==typeof t&&(t=[[null,t,void 0]]);var i={};if(r)for(var c=0;c<this.length;c++){var u=this[c][0];null!=u&&(i[u]=!0)}for(var s=0;s<t.length;s++){var f=[].concat(t[s]);r&&i[f[0]]||(void 0!==a&&(void 0===f[5]||(f[1]="@layer".concat(f[5].length>0?" ".concat(f[5]):""," {").concat(f[1],"}")),f[5]=a),n&&(f[2]?(f[1]="@media ".concat(f[2]," {").concat(f[1],"}"),f[2]=n):f[2]=n),o&&(f[4]?(f[1]="@supports (".concat(f[4],") {").concat(f[1],"}"),f[4]=o):f[4]="".concat(o)),e.push(f))}},e}},537:function(t){"use strict";t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),a="/*# ".concat(o," */"),i=n.sources.map((function(t){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(t," */")}));return[e].concat(i).concat([a]).join("\n")}return[e].join("\n")}},692:function(t,e,n){"use strict";n.r(e);var r=n(379),o=n.n(r),a=n(795),i=n.n(a),c=n(569),u=n.n(c),s=n(565),f=n.n(s),l=n(216),d=n.n(l),p=n(589),v=n.n(p),m=n(495),h={};h.styleTagTransform=v(),h.setAttributes=f(),h.insert=u().bind(null,"head"),h.domAPI=i(),h.insertStyleElement=d();o()(m.Z,h);e.default=m.Z&&m.Z.locals?m.Z.locals:void 0},379:function(t){"use strict";var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var a={},i=[],c=0;c<t.length;c++){var u=t[c],s=r.base?u[0]+r.base:u[0],f=a[s]||0,l="".concat(s," ").concat(f);a[s]=f+1;var d=n(l),p={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==d)e[d].references++,e[d].updater(p);else{var v=o(p,r);r.byIndex=c,e.splice(c,0,{identifier:l,updater:v,references:1})}i.push(l)}return i}function o(t,e){var n=e.domAPI(e);n.update(t);return function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var a=r(t=t||[],o=o||{});return function(t){t=t||[];for(var i=0;i<a.length;i++){var c=n(a[i]);e[c].references--}for(var u=r(t,o),s=0;s<a.length;s++){var f=n(a[s]);0===e[f].references&&(e[f].updater(),e.splice(f,1))}a=u}}},569:function(t){"use strict";var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:function(t){"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:function(t,e,n){"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:function(t){"use strict";t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:function(t){"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={id:r,exports:{}};return t[r](a,a.exports,n),a.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},function(){n(692);var t=n(246),e=t(!1),r=t(!0),o=document.querySelector(".randombtn");function a(){var t=Array.from(document.querySelectorAll(".divRowcomputer"));function n(t){if(!e.gameBoard.checkGameEnd()&&!r.gameBoard.checkGameEnd()){o.style.display="none";var n=t.target.dataset.coordinates.split(",").map((function(t){return parseInt(t)}));e.attack(r,n),e.gameBoard.checkGameEnd()||r.gameBoard.checkGameEnd()||setTimeout((function(){r.attack(e)}),"150")}}o.style.display="block",t.forEach((function(t){return t.addEventListener("click",n,{once:!0})}))}o.addEventListener("click",(function(){return e.gameBoard.randomize()})),a();var i=document.querySelector(".buttonrestart");i.addEventListener("click",(function(){e.gameBoard.restart(),r.gameBoard.restart(),i.style.display="none",a()}))}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TCxNQUN6QjhLLEVBQU9qSCxPQUFPa0gsRUFBVTFLLEdBRXBCeUssRUFBT3RMLFVBQVU2QixnQkFBa0IwSixFQUFTdkwsVUFBVTZCLGdCQUkxRGtLLFlBQVcsV0FDVFIsRUFBU2xILE9BQU9pSCxLQUNmLFFBRUxFLEVBQVVwTSxNQUFNQyxRQUFVLFFBQzFCcU0sRUFBYWhNLFNBQVEsU0FBQ0MsR0FBRCxPQUNuQkEsRUFBSXFNLGlCQUFpQixRQUFTTCxFQUFnQixDQUFFTSxNQUFNLE9BMUIxRFQsRUFBVVEsaUJBQWlCLFNBQVMsa0JBQU1WLEVBQU90TCxVQUFVK0QsZUE4QjNEMEgsSUFFQSxJQUFJUyxFQUFnQnJOLFNBQVNDLGNBQWMsa0JBQzNDb04sRUFBY0YsaUJBQWlCLFNBQVMsV0FDdENWLEVBQU90TCxVQUFVZ0UsVUFDakJ1SCxFQUFTdkwsVUFBVWdFLFVBQ25Ca0ksRUFBYzlNLE1BQU1DLFFBQVUsT0FDOUJvTSxPIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9jb21wb25lbnRzL0RPTUludGVyYWN0aW9ucy9kZWxldGVCb2FyZHMuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9jb21wb25lbnRzL0RPTUludGVyYWN0aW9ucy9kZWxldGVQbGF5ZXJCb2FyZC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2NvbXBvbmVudHMvRE9NSW50ZXJhY3Rpb25zL2RlbGV0ZVdpbm5lci5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2NvbXBvbmVudHMvRE9NSW50ZXJhY3Rpb25zL2dhbWVPdmVyLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvY29tcG9uZW50cy9ET01JbnRlcmFjdGlvbnMvcmVuZGVyLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvY29tcG9uZW50cy9ET01JbnRlcmFjdGlvbnMvcmVuZGVyQ2hhbmdlLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvY29tcG9uZW50cy9PYmplY3RzL0dhbWVCb2FyZC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2NvbXBvbmVudHMvT2JqZWN0cy9QbGF5ZXJPYmouanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9jb21wb25lbnRzL09iamVjdHMvU2hpcE9iai5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL3N0eWxlLmNzcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9zdHlsZS5jc3M/Njc0MyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gZGVsZXRlQm9hcmRzKGlzQ29tcHV0ZXIpIHtcclxuICBpZiAoaXNDb21wdXRlcikge1xyXG4gICAgbGV0IGNvbXB1dGVyQm9hcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmdhbWVCb2FyZGNvbXB1dGVyXCIpO1xyXG4gICAgY29tcHV0ZXJCb2FyZC5yZW1vdmUoKTtcclxuICB9IGVsc2Uge1xyXG4gICAgbGV0IHBsYXllckJvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYW1lQm9hcmRwbGF5ZXJcIik7XHJcbiAgICBwbGF5ZXJCb2FyZC5yZW1vdmUoKTtcclxuICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZGVsZXRlQm9hcmRzO1xyXG4iLCJmdW5jdGlvbiBkZWxldGVQbGF5ZXJCb2FyZCgpIHtcclxuICBsZXQgcGxheWVyQm9hcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmdhbWVCb2FyZHBsYXllclwiKTtcclxuICBwbGF5ZXJCb2FyZC5yZW1vdmUoKTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBkZWxldGVQbGF5ZXJCb2FyZDtcclxuIiwiZnVuY3Rpb24gZGVsZXRlV2lubmVyKCkge1xyXG4gIGxldCB3aW5uZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndpbm5lclwiKTtcclxuICB3aW5uZXIucmVtb3ZlKCk7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZGVsZXRlV2lubmVyO1xyXG4iLCJmdW5jdGlvbiBnYW1lT3Zlcihpc0NvbXB1dGVyKSB7XHJcbiAgbGV0IHdpbm5lcnAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuICB3aW5uZXJwLmNsYXNzTmFtZSA9IFwid2lubmVyXCI7XHJcbiAgaWYgKGlzQ29tcHV0ZXIpIHtcclxuICAgIHdpbm5lcnAudGV4dENvbnRlbnQgPSBcIkNvbmdyYXR1bGF0aW9ucyEgWW91IHdvbiFcIjtcclxuICB9IGVsc2Uge1xyXG4gICAgd2lubmVycC50ZXh0Q29udGVudCA9IFwiRW5lbXkgd29uIVwiO1xyXG4gIH1cclxuICBsZXQgcmVzdGFydEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnV0dG9ucmVzdGFydFwiKTtcclxuICByZXN0YXJ0QnRuLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcblxyXG4gIGxldCBtYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIm1haW5cIik7XHJcbiAgbWFpbi5hcHBlbmQod2lubmVycCk7XHJcbiAgbGV0IGNvbXB1dGVyRGl2cyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5kaXZSb3djb21wdXRlclwiKSk7XHJcbiAgY29tcHV0ZXJEaXZzLmZvckVhY2goKGRpdikgPT4ge1xyXG4gICAgZGl2LmNsYXNzTGlzdC5yZW1vdmUoXCJkaXZSb3djb21wdXRlclwiKTtcclxuICAgIGRpdi5jbGFzc0xpc3QuYWRkKFwiZGl2Um93LW5vaG92ZXJcIik7XHJcbiAgfSk7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZ2FtZU92ZXI7XHJcbiIsImZ1bmN0aW9uIGNyZWF0ZUJvYXJkKGJlbG9uZ3NUbywgZGlzcGxheVNoaXBzKSB7XHJcbiAgbGV0IGdhbWVCb2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgZ2FtZUJvYXJkLmNsYXNzTGlzdC5hZGQoXCJnYW1lQm9hcmRcIiArIGJlbG9uZ3NUbywgXCJnYW1lQm9hcmRcIik7XHJcbiAgZm9yIChsZXQgeSA9IDA7IHkgPCAxMDsgeSsrKSB7XHJcbiAgICBsZXQgZGl2Q29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIGRpdkNvbHVtbi5jbGFzc0xpc3QuYWRkKFwiZGl2Q29sdW1uXCIgKyBiZWxvbmdzVG8sIFwiZGl2Q29sdW1uXCIpO1xyXG4gICAgZm9yIChsZXQgeCA9IDA7IHggPCAxMDsgeCsrKSB7XHJcbiAgICAgIGxldCBkaXZSb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICBkaXZSb3cuc2V0QXR0cmlidXRlKFwiZGF0YS1jb29yZGluYXRlc1wiLCBbeCwgeV0pO1xyXG4gICAgICBkaXZSb3cuY2xhc3NMaXN0LmFkZChcImRpdlJvd1wiICsgYmVsb25nc1RvLCBcImRpdlJvd1wiKTtcclxuXHJcbiAgICAgIGlmIChiZWxvbmdzVG8gPT0gXCJwbGF5ZXJcIikge1xyXG4gICAgICAgIGlmIChkaXNwbGF5U2hpcHMuZmxhdCgpLnNvbWUoKHZhbCkgPT4gdmFsWzBdID09IHggJiYgdmFsWzFdID09IHkpKSB7XHJcbiAgICAgICAgICBkaXZSb3cuY2xhc3NMaXN0LmFkZChcInNoaXBcIiwgXCJkaXZSb3ctbm9ob3ZlclwiKTtcclxuICAgICAgICAgIGRpdlJvdy5jbGFzc0xpc3QucmVtb3ZlKFwiZGl2Um93XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgZGl2Q29sdW1uLmFwcGVuZENoaWxkKGRpdlJvdyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2FtZUJvYXJkLmluc2VydEJlZm9yZShkaXZDb2x1bW4sIGdhbWVCb2FyZC5maXJzdENoaWxkKTtcclxuICB9XHJcblxyXG4gIGlmIChiZWxvbmdzVG8gPT0gXCJwbGF5ZXJcIikge1xyXG4gICAgbGV0IHJpZ2h0UGxheWVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yaWdodHBsYXllclwiKTtcclxuICAgIHJpZ2h0UGxheWVyLmFwcGVuZChnYW1lQm9hcmQpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBsZXQgcmlnaHRDb21wdXRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmlnaHRjb21wdXRlclwiKTtcclxuICAgIHJpZ2h0Q29tcHV0ZXIuYXBwZW5kKGdhbWVCb2FyZCk7XHJcbiAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZUJvYXJkO1xyXG4iLCJmdW5jdGlvbiByZW5kZXJNaXNzZWRTaG90KGJlbG9uZ3NUbywgY29vcmRpbmF0ZXMpIHtcclxuICBsZXQgc3F1YXJlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgIGAuZGl2Um93JHtiZWxvbmdzVG99W2RhdGEtY29vcmRpbmF0ZXM9XCIke2Nvb3JkaW5hdGVzfVwiXWBcclxuICApO1xyXG4gIHNxdWFyZS5jbGFzc0xpc3QuYWRkKFwibWlzc2Vkc2hvdFwiKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVuZGVySGl0KGJlbG9uZ3NUbywgY29vcmRpbmF0ZXMpIHtcclxuICBsZXQgc3F1YXJlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgIGAuZGl2Um93JHtiZWxvbmdzVG99W2RhdGEtY29vcmRpbmF0ZXM9XCIke2Nvb3JkaW5hdGVzfVwiXWBcclxuICApO1xyXG4gIHNxdWFyZS5jbGFzc0xpc3QuYWRkKFwiaGl0XCIpO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHsgcmVuZGVyTWlzc2VkU2hvdCwgcmVuZGVySGl0IH07XHJcbiIsImNvbnN0IFNoaXBPYmogPSByZXF1aXJlKFwiLi9TaGlwT2JqLmpzXCIpO1xyXG5jb25zdCBjcmVhdGVCb2FyZCA9IHJlcXVpcmUoXCIuLi9ET01JbnRlcmFjdGlvbnMvcmVuZGVyLmpzXCIpO1xyXG5jb25zdCBkZWxldGVQbGF5ZXJCb2FyZCA9IHJlcXVpcmUoXCIuLi9ET01JbnRlcmFjdGlvbnMvZGVsZXRlUGxheWVyQm9hcmQuanNcIik7XHJcbmNvbnN0IGdhbWVPdmVyID0gcmVxdWlyZShcIi4uL0RPTUludGVyYWN0aW9ucy9nYW1lT3Zlci5qc1wiKTtcclxuY29uc3QgZGVsZXRlQm9hcmRzID0gcmVxdWlyZShcIi4uL0RPTUludGVyYWN0aW9ucy9kZWxldGVCb2FyZHMuanNcIik7XHJcbmNvbnN0IGRlbGV0ZVdpbm5lciA9IHJlcXVpcmUoXCIuLi9ET01JbnRlcmFjdGlvbnMvZGVsZXRlV2lubmVyLmpzXCIpO1xyXG5jb25zdCB7XHJcbiAgcmVuZGVyTWlzc2VkU2hvdCxcclxuICByZW5kZXJIaXQsXHJcbn0gPSByZXF1aXJlKFwiLi4vRE9NSW50ZXJhY3Rpb25zL3JlbmRlckNoYW5nZS5qc1wiKTtcclxuXHJcbmZ1bmN0aW9uIEdhbWVCb2FyZChpc0NvbXB1dGVyKSB7XHJcbiAgbGV0IHN1bmtlblNoaXBzID0gW107XHJcbiAgbGV0IHNoaXBzT25Cb2FyZCA9IFtdO1xyXG4gIGxldCBhdmFpbGlibGVTcWF1cmVzID0gW107XHJcblxyXG4gIGxldCBfZ2VuZXJhdGVTaGlwcyA9ICgpID0+IHtcclxuICAgIGxldCBsaXN0T2ZTaGlwcyA9IFtcclxuICAgICAgU2hpcE9iaig0KSxcclxuICAgICAgU2hpcE9iaigzKSxcclxuICAgICAgU2hpcE9iaigzKSxcclxuICAgICAgU2hpcE9iaigyKSxcclxuICAgICAgU2hpcE9iaigyKSxcclxuICAgICAgU2hpcE9iaigyKSxcclxuICAgICAgU2hpcE9iaigxKSxcclxuICAgICAgU2hpcE9iaigxKSxcclxuICAgICAgU2hpcE9iaigxKSxcclxuICAgICAgU2hpcE9iaigxKSxcclxuICAgIF07XHJcbiAgICByZXR1cm4gbGlzdE9mU2hpcHM7XHJcbiAgfTtcclxuXHJcbiAgbGV0IF9nZW5lcmF0ZUF2YWlsaWJsZVNxdWFyZXMgPSAoKSA9PiB7XHJcbiAgICBmb3IgKGxldCB5ID0gMDsgeSA8PSA5OyB5KyspIHtcclxuICAgICAgZm9yIChsZXQgeCA9IDA7IHggPD0gOTsgeCsrKSB7XHJcbiAgICAgICAgYXZhaWxpYmxlU3FhdXJlcy5wdXNoKFt4LCB5XSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG5cclxuICBsZXQgX2dldFNoaXBzT25Cb2FyZCA9ICgpID0+IHtcclxuICAgIGxldCBhcnJPZkNvb3JkID0gc2hpcHNPbkJvYXJkLm1hcCgodmFsKSA9PiB2YWwuY29vcmRpbmF0ZXMpO1xyXG5cclxuICAgIHJldHVybiBhcnJPZkNvb3JkO1xyXG4gIH07XHJcblxyXG4gIGxldCBjaGVja0dhbWVFbmQgPSAoKSA9PiB7XHJcbiAgICBpZiAoc3Vua2VuU2hpcHMubGVuZ3RoID09IHNoaXBzT25Cb2FyZC5sZW5ndGgpIHtcclxuICAgICAgY29uc29sZS5sb2codHJ1ZSk7XHJcbiAgICAgIGdhbWVPdmVyKGlzQ29tcHV0ZXIpO1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9O1xyXG5cclxuICBsZXQgX2dlbmVyYXRlVmFsdWVzVmVydGljYWwgPSAoc2hpcExlbmd0aCwgdHJpZWRWZXJ0aWNhbCA9IFtdKSA9PiB7XHJcbiAgICBsZXQgcmFuZG9tVmFsdWU7XHJcbiAgICBsZXQgY29vcmQ7XHJcbiAgICBsZXQgYXZhaWxpYmxlU3F1YXJlc1N0cmcgPSBKU09OLnN0cmluZ2lmeShhdmFpbGlibGVTcWF1cmVzKTtcclxuXHJcbiAgICBpZiAodHJpZWRWZXJ0aWNhbC5sZW5ndGggPT0gMCkge1xyXG4gICAgICByYW5kb21WYWx1ZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGF2YWlsaWJsZVNxYXVyZXMubGVuZ3RoKTtcclxuICAgICAgY29vcmQgPSBhdmFpbGlibGVTcWF1cmVzW3JhbmRvbVZhbHVlXTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGxldCBuZXdBcnJheTtcclxuICAgICAgdHJpZWRWZXJ0aWNhbC5mb3JFYWNoKChhcnIpID0+IHtcclxuICAgICAgICBuZXdBcnJheSA9IGF2YWlsaWJsZVNxYXVyZXMuZmlsdGVyKFxyXG4gICAgICAgICAgKGVsZW0pID0+IGVsZW1bMF0gIT0gYXJyWzBdIHx8IGVsZW1bMV0gIT0gYXJyWzFdXHJcbiAgICAgICAgKTtcclxuICAgICAgICByYW5kb21WYWx1ZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG5ld0FycmF5Lmxlbmd0aCk7XHJcbiAgICAgICAgY29vcmQgPSBuZXdBcnJheVtyYW5kb21WYWx1ZV07XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcExlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGxldCBjb29yZFN0cmluZ2lmaWVkID0gSlNPTi5zdHJpbmdpZnkoW2Nvb3JkWzBdLCBjb29yZFsxXSArIGldKTtcclxuICAgICAgdHJpZWRWZXJ0aWNhbC5wdXNoKGNvb3JkKTtcclxuICAgICAgaWYgKGF2YWlsaWJsZVNxdWFyZXNTdHJnLmluZGV4T2YoY29vcmRTdHJpbmdpZmllZCkgPT0gLTEpIHtcclxuICAgICAgICByZXR1cm4gX2dlbmVyYXRlVmFsdWVzVmVydGljYWwoc2hpcExlbmd0aCwgdHJpZWRWZXJ0aWNhbCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGxldCBpID0gLTE7IGkgPCBzaGlwTGVuZ3RoICsgMTsgaSsrKSB7XHJcbiAgICAgIGF2YWlsaWJsZVNxYXVyZXMgPSBhdmFpbGlibGVTcWF1cmVzLmZpbHRlcihcclxuICAgICAgICAodmFsKSA9PiBjb29yZFswXSAhPSB2YWxbMF0gfHwgY29vcmRbMV0gKyBpICE9IHZhbFsxXVxyXG4gICAgICApO1xyXG5cclxuICAgICAgYXZhaWxpYmxlU3FhdXJlcyA9IGF2YWlsaWJsZVNxYXVyZXMuZmlsdGVyKFxyXG4gICAgICAgICh2YWwpID0+IGNvb3JkWzBdICsgMSAhPSB2YWxbMF0gfHwgY29vcmRbMV0gKyBpICE9IHZhbFsxXVxyXG4gICAgICApO1xyXG5cclxuICAgICAgYXZhaWxpYmxlU3FhdXJlcyA9IGF2YWlsaWJsZVNxYXVyZXMuZmlsdGVyKFxyXG4gICAgICAgICh2YWwpID0+IGNvb3JkWzBdIC0gMSAhPSB2YWxbMF0gfHwgY29vcmRbMV0gKyBpICE9IHZhbFsxXVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBbY29vcmRbMF0sIGNvb3JkWzFdXTtcclxuICB9O1xyXG5cclxuICBsZXQgX2dlbmVyYXRlVmFsdWVzSG9yaXpvbnRhbCA9IChzaGlwTGVuZ3RoLCB0cmllZEhvcml6b250YWwgPSBbXSkgPT4ge1xyXG4gICAgbGV0IHJhbmRvbVZhbHVlO1xyXG4gICAgbGV0IGNvb3JkO1xyXG4gICAgbGV0IGF2YWlsaWJsZVNxdWFyZXNTdHJnID0gSlNPTi5zdHJpbmdpZnkoYXZhaWxpYmxlU3FhdXJlcyk7XHJcblxyXG4gICAgaWYgKHRyaWVkSG9yaXpvbnRhbC5sZW5ndGggPT0gMCkge1xyXG4gICAgICByYW5kb21WYWx1ZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGF2YWlsaWJsZVNxYXVyZXMubGVuZ3RoKTtcclxuICAgICAgY29vcmQgPSBhdmFpbGlibGVTcWF1cmVzW3JhbmRvbVZhbHVlXTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGxldCBuZXdBcnJheTtcclxuICAgICAgdHJpZWRIb3Jpem9udGFsLmZvckVhY2goKGFycikgPT4ge1xyXG4gICAgICAgIG5ld0FycmF5ID0gYXZhaWxpYmxlU3FhdXJlcy5maWx0ZXIoXHJcbiAgICAgICAgICAoZWxlbSkgPT4gZWxlbVswXSAhPSBhcnJbMF0gfHwgZWxlbVsxXSAhPSBhcnJbMV1cclxuICAgICAgICApO1xyXG4gICAgICAgIHJhbmRvbVZhbHVlID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbmV3QXJyYXkubGVuZ3RoKTtcclxuICAgICAgICBjb29yZCA9IG5ld0FycmF5W3JhbmRvbVZhbHVlXTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwTGVuZ3RoOyBpKyspIHtcclxuICAgICAgbGV0IGNvb3JkU3RyaW5naWZpZWQgPSBKU09OLnN0cmluZ2lmeShbY29vcmRbMF0gKyBpLCBjb29yZFsxXV0pO1xyXG4gICAgICB0cmllZEhvcml6b250YWwucHVzaChjb29yZCk7XHJcbiAgICAgIGlmIChhdmFpbGlibGVTcXVhcmVzU3RyZy5pbmRleE9mKGNvb3JkU3RyaW5naWZpZWQpID09IC0xKSB7XHJcbiAgICAgICAgcmV0dXJuIF9nZW5lcmF0ZVZhbHVlc0hvcml6b250YWwoc2hpcExlbmd0aCwgdHJpZWRIb3Jpem9udGFsKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZvciAobGV0IGkgPSAtMTsgaSA8IHNoaXBMZW5ndGggKyAxOyBpKyspIHtcclxuICAgICAgYXZhaWxpYmxlU3FhdXJlcyA9IGF2YWlsaWJsZVNxYXVyZXMuZmlsdGVyKFxyXG4gICAgICAgICh2YWwpID0+IGNvb3JkWzBdICsgaSAhPSB2YWxbMF0gfHwgY29vcmRbMV0gIT0gdmFsWzFdXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBhdmFpbGlibGVTcWF1cmVzID0gYXZhaWxpYmxlU3FhdXJlcy5maWx0ZXIoXHJcbiAgICAgICAgKHZhbCkgPT4gY29vcmRbMF0gKyBpICE9IHZhbFswXSB8fCBjb29yZFsxXSArIDEgIT0gdmFsWzFdXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBhdmFpbGlibGVTcWF1cmVzID0gYXZhaWxpYmxlU3FhdXJlcy5maWx0ZXIoXHJcbiAgICAgICAgKHZhbCkgPT4gY29vcmRbMF0gKyBpICE9IHZhbFswXSB8fCBjb29yZFsxXSAtIDEgIT0gdmFsWzFdXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBjb25zb2xlLmxvZyhjb29yZFswXSk7XHJcbiAgICByZXR1cm4gW2Nvb3JkWzBdLCBjb29yZFsxXV07XHJcbiAgfTtcclxuXHJcbiAgbGV0IHBsYWNlU2hpcCA9ICgpID0+IHtcclxuICAgIGxldCB4Q29vcmQ7XHJcbiAgICBsZXQgeUNvb3JkO1xyXG5cclxuICAgIGxldCBjYXNlcyA9IFtcImhvcml6b250YWxcIiwgXCJ2ZXJ0aWNhbFwiXTtcclxuICAgIGxldCBsaXN0T2ZTaGlwcyA9IF9nZW5lcmF0ZVNoaXBzKCk7XHJcbiAgICBmb3IgKGxldCBzaGlwIG9mIGxpc3RPZlNoaXBzKSB7XHJcbiAgICAgIGxldCByYW5kb21OdW0gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyKTtcclxuICAgICAgbGV0IHJhbmRvbUNob2ljZSA9IGNhc2VzW3JhbmRvbU51bV07XHJcbiAgICAgIGxldCBzcXVhcmVzVGFrZW5CeVNoaXAgPSBbXTtcclxuXHJcbiAgICAgIHN3aXRjaCAocmFuZG9tQ2hvaWNlKSB7XHJcbiAgICAgICAgY2FzZSBcImhvcml6b250YWxcIjpcclxuICAgICAgICAgIFt4Q29vcmQsIHlDb29yZF0gPSBfZ2VuZXJhdGVWYWx1ZXNIb3Jpem9udGFsKHNoaXAubGVuZ3RoKTtcclxuXHJcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgc3F1YXJlc1Rha2VuQnlTaGlwLnB1c2goW3hDb29yZCArIGksIHlDb29yZF0pO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHNoaXBzT25Cb2FyZC5wdXNoKHsgc2hpcDogc2hpcCwgY29vcmRpbmF0ZXM6IHNxdWFyZXNUYWtlbkJ5U2hpcCB9KTtcclxuXHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSBcInZlcnRpY2FsXCI6XHJcbiAgICAgICAgICBbeENvb3JkLCB5Q29vcmRdID0gX2dlbmVyYXRlVmFsdWVzVmVydGljYWwoc2hpcC5sZW5ndGgpO1xyXG5cclxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBzcXVhcmVzVGFrZW5CeVNoaXAucHVzaChbeENvb3JkLCB5Q29vcmQgKyBpXSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgc2hpcHNPbkJvYXJkLnB1c2goeyBzaGlwOiBzaGlwLCBjb29yZGluYXRlczogc3F1YXJlc1Rha2VuQnlTaGlwIH0pO1xyXG5cclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgbGV0IHJlY2lldmVBdHRhY2sgPSAoY29vcmRpbmF0ZXMsIGlzQ29tcHV0ZXIpID0+IHtcclxuICAgIGZvciAobGV0IG9iaiBvZiBzaGlwc09uQm9hcmQpIHtcclxuICAgICAgZm9yIChsZXQgYXJyIG9mIG9iai5jb29yZGluYXRlcykge1xyXG4gICAgICAgIGlmIChhcnJbMF0gPT0gY29vcmRpbmF0ZXNbMF0gJiYgYXJyWzFdID09IGNvb3JkaW5hdGVzWzFdKSB7XHJcbiAgICAgICAgICBpZiAob2JqLnNoaXAuaGl0KCkgPT0gXCJTaGlwIHN1bmtlZFwiKSB7XHJcbiAgICAgICAgICAgIHN1bmtlblNoaXBzLnB1c2gob2JqKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpc0NvbXB1dGVyXHJcbiAgICAgICAgICAgID8gcmVuZGVySGl0KFwiY29tcHV0ZXJcIiwgY29vcmRpbmF0ZXMpXHJcbiAgICAgICAgICAgIDogcmVuZGVySGl0KFwicGxheWVyXCIsIGNvb3JkaW5hdGVzKTtcclxuXHJcbiAgICAgICAgICBjaGVja0dhbWVFbmQoKTtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gaXNDb21wdXRlclxyXG4gICAgICA/IHJlbmRlck1pc3NlZFNob3QoXCJjb21wdXRlclwiLCBjb29yZGluYXRlcylcclxuICAgICAgOiByZW5kZXJNaXNzZWRTaG90KFwicGxheWVyXCIsIGNvb3JkaW5hdGVzKTtcclxuICB9O1xyXG5cclxuICBsZXQgcmFuZG9taXplID0gKCkgPT4ge1xyXG4gICAgc2hpcHNPbkJvYXJkID0gW107XHJcbiAgICBhdmFpbGlibGVTcWF1cmVzID0gW107XHJcbiAgICBfZ2VuZXJhdGVBdmFpbGlibGVTcXVhcmVzKCk7XHJcbiAgICBwbGFjZVNoaXAoKTtcclxuICAgIGRlbGV0ZVBsYXllckJvYXJkKCk7XHJcbiAgICBjcmVhdGVCb2FyZChcInBsYXllclwiLCBfZ2V0U2hpcHNPbkJvYXJkKCkpO1xyXG4gIH07XHJcblxyXG4gIGxldCByZXN0YXJ0ID0gKCkgPT4ge1xyXG4gICAgc3Vua2VuU2hpcHMgPSBbXTtcclxuICAgIHNoaXBzT25Cb2FyZCA9IFtdO1xyXG4gICAgYXZhaWxpYmxlU3FhdXJlcyA9IFtdO1xyXG4gICAgZGVsZXRlV2lubmVyKCk7XHJcbiAgICBfZ2VuZXJhdGVBdmFpbGlibGVTcXVhcmVzKCk7XHJcbiAgICBwbGFjZVNoaXAoKTtcclxuICAgIGRlbGV0ZUJvYXJkcyhpc0NvbXB1dGVyKTtcclxuICAgIGlzQ29tcHV0ZXJcclxuICAgICAgPyBjcmVhdGVCb2FyZChcImNvbXB1dGVyXCIsIF9nZXRTaGlwc09uQm9hcmQoKSlcclxuICAgICAgOiBjcmVhdGVCb2FyZChcInBsYXllclwiLCBfZ2V0U2hpcHNPbkJvYXJkKCkpO1xyXG4gIH07XHJcblxyXG4gIChmdW5jdGlvbiBpbml0aWFsQm9hcmQoKSB7XHJcbiAgICBfZ2VuZXJhdGVBdmFpbGlibGVTcXVhcmVzKCk7XHJcbiAgICBwbGFjZVNoaXAoKTtcclxuICAgIGlzQ29tcHV0ZXJcclxuICAgICAgPyBjcmVhdGVCb2FyZChcImNvbXB1dGVyXCIsIF9nZXRTaGlwc09uQm9hcmQoKSlcclxuICAgICAgOiBjcmVhdGVCb2FyZChcInBsYXllclwiLCBfZ2V0U2hpcHNPbkJvYXJkKCkpO1xyXG4gIH0pKCk7XHJcblxyXG4gIHJldHVybiB7IHJlY2lldmVBdHRhY2ssIHJhbmRvbWl6ZSwgcmVzdGFydCwgY2hlY2tHYW1lRW5kIH07XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gR2FtZUJvYXJkO1xyXG4iLCJjb25zdCBHYW1lQm9hcmRPYmogPSByZXF1aXJlKFwiLi9HYW1lQm9hcmQuanNcIik7XHJcblxyXG5mdW5jdGlvbiBQbGF5ZXIoaXNDb21wdXRlciA9IGZhbHNlKSB7XHJcbiAgbGV0IGdhbWVCb2FyZCA9IEdhbWVCb2FyZE9iaihpc0NvbXB1dGVyKTtcclxuICBsZXQgYXZhaWxpYmxlQ29vcmRpbmF0ZXMgPSBbXTtcclxuXHJcbiAgaWYgKGlzQ29tcHV0ZXIgPT0gdHJ1ZSkge1xyXG4gICAgZm9yIChsZXQgeSA9IDA7IHkgPD0gOTsgeSsrKSB7XHJcbiAgICAgIGZvciAobGV0IHggPSAwOyB4IDw9IDk7IHgrKykge1xyXG4gICAgICAgIGF2YWlsaWJsZUNvb3JkaW5hdGVzLnB1c2goW3gsIHldKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gX3JhbmRvbUNvb3JkaW5hdGVzKCkge1xyXG4gICAgbGV0IHJhbmRvbU51bSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGF2YWlsaWJsZUNvb3JkaW5hdGVzLmxlbmd0aCk7XHJcbiAgICByZXR1cm4gYXZhaWxpYmxlQ29vcmRpbmF0ZXMuc3BsaWNlKHJhbmRvbU51bSwgMSkuZmxhdCgpO1xyXG4gIH1cclxuXHJcbiAgbGV0IGF0dGFjayA9IChlbmVteSwgY29vcmRpbmF0ZXMpID0+IHtcclxuICAgIGlmIChpc0NvbXB1dGVyID09IHRydWUpIHtcclxuICAgICAgbGV0IHJhbmRvbUNvb3JkaW5hdGVzID0gX3JhbmRvbUNvb3JkaW5hdGVzKCk7XHJcbiAgICAgIGVuZW15LmdhbWVCb2FyZC5yZWNpZXZlQXR0YWNrKHJhbmRvbUNvb3JkaW5hdGVzLCBlbmVteS5pc0NvbXB1dGVyKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGVuZW15LmdhbWVCb2FyZC5yZWNpZXZlQXR0YWNrKGNvb3JkaW5hdGVzLCBlbmVteS5pc0NvbXB1dGVyKTtcclxuICB9O1xyXG5cclxuICByZXR1cm4geyBhdHRhY2ssIGdhbWVCb2FyZCwgaXNDb21wdXRlciB9O1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IFBsYXllcjtcclxuIiwiZnVuY3Rpb24gU2hpcE9iaihsZW5ndGgpIHtcclxuICBsZXQgaGl0U2NvcmUgPSAwO1xyXG5cclxuICBsZXQgX3NoaXBTaW5rID0gKCkgPT4gXCJTaGlwIHN1bmtlZFwiO1xyXG5cclxuICBsZXQgaGl0ID0gKCkgPT4ge1xyXG4gICAgaGl0U2NvcmUgPSBoaXRTY29yZSArIDE7XHJcblxyXG4gICAgaWYgKGhpdFNjb3JlID49IGxlbmd0aCkge1xyXG4gICAgICByZXR1cm4gX3NoaXBTaW5rKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIHsgaGl0LCBsZW5ndGggfTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBTaGlwT2JqO1xyXG4iLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxcbmV4cG9ydCB7fTtcIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvc3R5bGUuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO1FBQ1EsQ0FBQVwiLFwic291cmNlc0NvbnRlbnRcIjpbXCIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cXG5leHBvcnQge307XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzV2l0aE1hcHBpbmdUb1N0cmluZykge1xuICB2YXIgbGlzdCA9IFtdOyAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBcIlwiO1xuICAgICAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBpdGVtWzVdICE9PSBcInVuZGVmaW5lZFwiO1xuXG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpO1xuICAgICAgfVxuXG4gICAgICBjb250ZW50ICs9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSk7XG5cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cblxuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSkuam9pbihcIlwiKTtcbiAgfTsgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcblxuXG4gIGxpc3QuaSA9IGZ1bmN0aW9uIGkobW9kdWxlcywgbWVkaWEsIGRlZHVwZSwgc3VwcG9ydHMsIGxheWVyKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCB1bmRlZmluZWRdXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCB0aGlzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgIHZhciBpZCA9IHRoaXNba11bMF07XG5cbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBfayA9IDA7IF9rIDwgbW9kdWxlcy5sZW5ndGg7IF9rKyspIHtcbiAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2tdKTtcblxuICAgICAgaWYgKGRlZHVwZSAmJiBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGxheWVyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbVs1XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgaWYgKCFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoc3VwcG9ydHMpIHtcbiAgICAgICAgaWYgKCFpdGVtWzRdKSB7XG4gICAgICAgICAgaXRlbVs0XSA9IFwiXCIuY29uY2F0KHN1cHBvcnRzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNF0gPSBzdXBwb3J0cztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXRlbSkge1xuICB2YXIgY29udGVudCA9IGl0ZW1bMV07XG4gIHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblxuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuXG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICB2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIFwiLyojIHNvdXJjZVVSTD1cIi5jb25jYXQoY3NzTWFwcGluZy5zb3VyY2VSb290IHx8IFwiXCIpLmNvbmNhdChzb3VyY2UsIFwiICovXCIpO1xuICAgIH0pO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oXCJcXG5cIik7XG59OyIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vbm9kZV9tb2R1bGVzL21pbmktY3NzLWV4dHJhY3QtcGx1Z2luL2Rpc3QvbG9hZGVyLmpzIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCI7XG4gICAgICBcbiAgICAgIFxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtID0gc3R5bGVUYWdUcmFuc2Zvcm1Gbjtcbm9wdGlvbnMuc2V0QXR0cmlidXRlcyA9IHNldEF0dHJpYnV0ZXM7XG5cbiAgICAgIG9wdGlvbnMuaW5zZXJ0ID0gaW5zZXJ0Rm4uYmluZChudWxsLCBcImhlYWRcIik7XG4gICAgXG5vcHRpb25zLmRvbUFQSSA9IGRvbUFQSTtcbm9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50ID0gaW5zZXJ0U3R5bGVFbGVtZW50O1xuXG52YXIgdXBkYXRlID0gQVBJKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0ICogZnJvbSBcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vbm9kZV9tb2R1bGVzL21pbmktY3NzLWV4dHJhY3QtcGx1Z2luL2Rpc3QvbG9hZGVyLmpzIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBzdHlsZXNJbkRPTSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRE9NLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRE9NW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXhCeUlkZW50aWZpZXIgPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM10sXG4gICAgICBzdXBwb3J0czogaXRlbVs0XSxcbiAgICAgIGxheWVyOiBpdGVtWzVdXG4gICAgfTtcblxuICAgIGlmIChpbmRleEJ5SWRlbnRpZmllciAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdXBkYXRlciA9IGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpO1xuICAgICAgb3B0aW9ucy5ieUluZGV4ID0gaTtcbiAgICAgIHN0eWxlc0luRE9NLnNwbGljZShpLCAwLCB7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IHVwZGF0ZXIsXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cblxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5cbmZ1bmN0aW9uIGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIGFwaSA9IG9wdGlvbnMuZG9tQVBJKG9wdGlvbnMpO1xuICBhcGkudXBkYXRlKG9iaik7XG5cbiAgdmFyIHVwZGF0ZXIgPSBmdW5jdGlvbiB1cGRhdGVyKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXAgJiYgbmV3T2JqLnN1cHBvcnRzID09PSBvYmouc3VwcG9ydHMgJiYgbmV3T2JqLmxheWVyID09PSBvYmoubGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBhcGkudXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZW1vdmUoKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHVwZGF0ZXI7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG5cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG5cbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG5cbiAgICAgIGlmIChzdHlsZXNJbkRPTVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5ET01bX2luZGV4XS51cGRhdGVyKCk7XG5cbiAgICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIG1lbW8gPSB7fTtcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5mdW5jdGlvbiBnZXRUYXJnZXQodGFyZ2V0KSB7XG4gIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpOyAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXG4gICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICB9XG5cbiAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbmZ1bmN0aW9uIGluc2VydEJ5U2VsZWN0b3IoaW5zZXJ0LCBzdHlsZSkge1xuICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KGluc2VydCk7XG5cbiAgaWYgKCF0YXJnZXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICB9XG5cbiAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRCeVNlbGVjdG9yOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBvcHRpb25zLnNldEF0dHJpYnV0ZXMoZWxlbWVudCwgb3B0aW9ucy5hdHRyaWJ1dGVzKTtcbiAgb3B0aW9ucy5pbnNlcnQoZWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0U3R5bGVFbGVtZW50OyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcyhzdHlsZUVsZW1lbnQpIHtcbiAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSBcInVuZGVmaW5lZFwiID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuXG4gIGlmIChub25jZSkge1xuICAgIHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBub25jZSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXM7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IFwiXCI7XG5cbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KG9iai5zdXBwb3J0cywgXCIpIHtcIik7XG4gIH1cblxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIik7XG4gIH1cblxuICB2YXIgbmVlZExheWVyID0gdHlwZW9mIG9iai5sYXllciAhPT0gXCJ1bmRlZmluZWRcIjtcblxuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwiQGxheWVyXCIuY29uY2F0KG9iai5sYXllci5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KG9iai5sYXllcikgOiBcIlwiLCBcIiB7XCIpO1xuICB9XG5cbiAgY3NzICs9IG9iai5jc3M7XG5cbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuXG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cblxuICBpZiAob2JqLnN1cHBvcnRzKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG5cbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKHNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBvcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGVFbGVtZW50LnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxuZnVuY3Rpb24gZG9tQVBJKG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlRWxlbWVudCA9IG9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICByZXR1cm4ge1xuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKG9iaikge1xuICAgICAgYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZG9tQVBJOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50KSB7XG4gIGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHN0eWxlVGFnVHJhbnNmb3JtOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdGZ1bmN0aW9uKCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuXHRcdGZ1bmN0aW9uKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgZGVmaW5pdGlvbikge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmosIHByb3ApIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApOyB9IiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJyZXF1aXJlKFwiLi9zdHlsZS5jc3NcIik7XHJcbmNvbnN0IFBsYXllck9iaiA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvT2JqZWN0cy9QbGF5ZXJPYmouanNcIik7XHJcblxyXG5sZXQgcGxheWVyID0gUGxheWVyT2JqKGZhbHNlKTtcclxubGV0IGNvbXB1dGVyID0gUGxheWVyT2JqKHRydWUpO1xyXG5sZXQgcmFuZG9tYnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yYW5kb21idG5cIik7XHJcbnJhbmRvbWJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gcGxheWVyLmdhbWVCb2FyZC5yYW5kb21pemUoKSk7XHJcblxyXG5mdW5jdGlvbiBnYW1lTG9vcCgpIHtcclxuICBsZXQgY29tcHV0ZXJEaXZzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmRpdlJvd2NvbXB1dGVyXCIpKTtcclxuXHJcbiAgZnVuY3Rpb24gYXR0YWNrQ29tcHV0ZXIoZSkge1xyXG4gICAgaWYgKHBsYXllci5nYW1lQm9hcmQuY2hlY2tHYW1lRW5kKCkgfHwgY29tcHV0ZXIuZ2FtZUJvYXJkLmNoZWNrR2FtZUVuZCgpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICByYW5kb21idG4uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgbGV0IGNvb3JkaW5hdGVzID0gZS50YXJnZXQuZGF0YXNldC5jb29yZGluYXRlc1xyXG4gICAgICAuc3BsaXQoXCIsXCIpXHJcbiAgICAgIC5tYXAoKHZhbCkgPT4gcGFyc2VJbnQodmFsKSk7XHJcbiAgICBwbGF5ZXIuYXR0YWNrKGNvbXB1dGVyLCBjb29yZGluYXRlcyk7XHJcblxyXG4gICAgaWYgKHBsYXllci5nYW1lQm9hcmQuY2hlY2tHYW1lRW5kKCkgfHwgY29tcHV0ZXIuZ2FtZUJvYXJkLmNoZWNrR2FtZUVuZCgpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgY29tcHV0ZXIuYXR0YWNrKHBsYXllcik7XHJcbiAgICB9LCBcIjE1MFwiKTtcclxuICB9XHJcbiAgcmFuZG9tYnRuLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgY29tcHV0ZXJEaXZzLmZvckVhY2goKGRpdikgPT5cclxuICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXR0YWNrQ29tcHV0ZXIsIHsgb25jZTogdHJ1ZSB9KVxyXG4gICk7XHJcbn1cclxuXHJcbmdhbWVMb29wKCk7XHJcblxyXG5sZXQgcmVzdGFydEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnV0dG9ucmVzdGFydFwiKTtcclxucmVzdGFydEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIHBsYXllci5nYW1lQm9hcmQucmVzdGFydCgpO1xyXG4gIGNvbXB1dGVyLmdhbWVCb2FyZC5yZXN0YXJ0KCk7XHJcbiAgcmVzdGFydEJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgZ2FtZUxvb3AoKTtcclxufSk7XHJcbiJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiaXNDb21wdXRlciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInJlbW92ZSIsIndpbm5lcnAiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwidGV4dENvbnRlbnQiLCJzdHlsZSIsImRpc3BsYXkiLCJhcHBlbmQiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImRpdiIsImNsYXNzTGlzdCIsImFkZCIsImJlbG9uZ3NUbyIsImRpc3BsYXlTaGlwcyIsImdhbWVCb2FyZCIsInkiLCJkaXZDb2x1bW4iLCJ4IiwiZGl2Um93Iiwic2V0QXR0cmlidXRlIiwiZmxhdCIsInNvbWUiLCJ2YWwiLCJhcHBlbmRDaGlsZCIsImluc2VydEJlZm9yZSIsImZpcnN0Q2hpbGQiLCJyZW5kZXJNaXNzZWRTaG90IiwiY29vcmRpbmF0ZXMiLCJyZW5kZXJIaXQiLCJTaGlwT2JqIiwicmVxdWlyZSIsImNyZWF0ZUJvYXJkIiwiZGVsZXRlUGxheWVyQm9hcmQiLCJnYW1lT3ZlciIsImRlbGV0ZUJvYXJkcyIsImRlbGV0ZVdpbm5lciIsInN1bmtlblNoaXBzIiwic2hpcHNPbkJvYXJkIiwiYXZhaWxpYmxlU3FhdXJlcyIsIl9nZW5lcmF0ZUF2YWlsaWJsZVNxdWFyZXMiLCJwdXNoIiwiX2dldFNoaXBzT25Cb2FyZCIsIm1hcCIsImNoZWNrR2FtZUVuZCIsImxlbmd0aCIsImNvbnNvbGUiLCJsb2ciLCJfZ2VuZXJhdGVWYWx1ZXNWZXJ0aWNhbCIsInNoaXBMZW5ndGgiLCJyYW5kb21WYWx1ZSIsImNvb3JkIiwibmV3QXJyYXkiLCJ0cmllZFZlcnRpY2FsIiwiYXZhaWxpYmxlU3F1YXJlc1N0cmciLCJKU09OIiwic3RyaW5naWZ5IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiYXJyIiwiZmlsdGVyIiwiZWxlbSIsImkiLCJjb29yZFN0cmluZ2lmaWVkIiwiaW5kZXhPZiIsIl9nZW5lcmF0ZVZhbHVlc0hvcml6b250YWwiLCJ0cmllZEhvcml6b250YWwiLCJwbGFjZVNoaXAiLCJ4Q29vcmQiLCJ5Q29vcmQiLCJjYXNlcyIsInNoaXAiLCJyYW5kb21OdW0iLCJzcXVhcmVzVGFrZW5CeVNoaXAiLCJyZWNpZXZlQXR0YWNrIiwib2JqIiwiaGl0IiwicmFuZG9taXplIiwicmVzdGFydCIsIkdhbWVCb2FyZE9iaiIsImF2YWlsaWJsZUNvb3JkaW5hdGVzIiwiX3JhbmRvbUNvb3JkaW5hdGVzIiwic3BsaWNlIiwiYXR0YWNrIiwiZW5lbXkiLCJyYW5kb21Db29yZGluYXRlcyIsImhpdFNjb3JlIiwiX19fQ1NTX0xPQURFUl9FWFBPUlRfX18iLCJpZCIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJsaXN0IiwidG9TdHJpbmciLCJ0aGlzIiwiaXRlbSIsImNvbnRlbnQiLCJuZWVkTGF5ZXIiLCJjb25jYXQiLCJqb2luIiwibW9kdWxlcyIsIm1lZGlhIiwiZGVkdXBlIiwic3VwcG9ydHMiLCJsYXllciIsInVuZGVmaW5lZCIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJrIiwiX2siLCJjc3NNYXBwaW5nIiwiYnRvYSIsImJhc2U2NCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiZGF0YSIsInNvdXJjZU1hcHBpbmciLCJzb3VyY2VVUkxzIiwic291cmNlcyIsInNvdXJjZSIsInNvdXJjZVJvb3QiLCJvcHRpb25zIiwic3R5bGVUYWdUcmFuc2Zvcm0iLCJzZXRBdHRyaWJ1dGVzIiwiaW5zZXJ0IiwiZG9tQVBJIiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGVzSW5ET00iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJtb2R1bGVzVG9Eb20iLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJiYXNlIiwiY291bnQiLCJpbmRleEJ5SWRlbnRpZmllciIsImNzcyIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwiYWRkRWxlbWVudFN0eWxlIiwiYnlJbmRleCIsImFwaSIsInVwZGF0ZSIsIm5ld09iaiIsImxhc3RJZGVudGlmaWVycyIsIm5ld0xpc3QiLCJpbmRleCIsIm5ld0xhc3RJZGVudGlmaWVycyIsIl9pIiwiX2luZGV4IiwibWVtbyIsInRhcmdldCIsInN0eWxlVGFyZ2V0Iiwid2luZG93IiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsImdldFRhcmdldCIsIkVycm9yIiwiZWxlbWVudCIsImF0dHJpYnV0ZXMiLCJzdHlsZUVsZW1lbnQiLCJub25jZSIsImFwcGx5IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwicmVtb3ZlU3R5bGVFbGVtZW50Iiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjcmVhdGVUZXh0Tm9kZSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJuIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJhIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJQbGF5ZXJPYmoiLCJwbGF5ZXIiLCJjb21wdXRlciIsInJhbmRvbWJ0biIsImdhbWVMb29wIiwiY29tcHV0ZXJEaXZzIiwiYXR0YWNrQ29tcHV0ZXIiLCJkYXRhc2V0Iiwic3BsaXQiLCJwYXJzZUludCIsInNldFRpbWVvdXQiLCJhZGRFdmVudExpc3RlbmVyIiwib25jZSIsInJlc3RhcnRCdXR0b24iXSwic291cmNlUm9vdCI6IiJ9