!function(){var t={169:function(t){t.exports=function(t){t?document.querySelector(".gameBoardcomputer").remove():document.querySelector(".gameBoardplayer").remove()}},325:function(t){t.exports=function(){document.querySelector(".gameBoardplayer").remove()}},923:function(t){t.exports=function(){document.querySelector(".winner").remove()}},756:function(t){t.exports=function(t){var e=document.createElement("p");e.className="winner",e.textContent=t?"Congratulations! You won!":"Enemy won!",document.querySelector(".buttonrestart").style.display="block",document.querySelector("main").append(e),Array.from(document.querySelectorAll(".divRowcomputer")).forEach((function(t){t.classList.remove("divRowcomputer"),t.classList.add("divRow-nohover")}))}},890:function(t){t.exports=function(t,e){var n=document.createElement("div");n.classList.add("gameBoard"+t,"gameBoard");for(var r=function(r){var o=document.createElement("div");o.classList.add("divColumn"+t,"divColumn");for(var a=function(n){var a=document.createElement("div");a.setAttribute("data-coordinates",[n,r]),a.classList.add("divRow"+t,"divRow"),"player"==t&&e.flat().some((function(t){return t[0]==n&&t[1]==r}))&&(a.classList.add("ship","divRow-nohover"),a.classList.remove("divRow")),o.appendChild(a)},i=0;i<10;i++)a(i);n.insertBefore(o,n.firstChild)},o=0;o<10;o++)r(o);"player"==t?document.querySelector(".rightplayer").append(n):document.querySelector(".rightcomputer").append(n)}},506:function(t){t.exports={renderMissedShot:function(t,e){document.querySelector(".divRow".concat(t,'[data-coordinates="').concat(e,'"]')).classList.add("missedshot")},renderHit:function(t,e){document.querySelector(".divRow".concat(t,'[data-coordinates="').concat(e,'"]')).classList.add("hit")}}},760:function(t,e,n){function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);i=!0);}catch(t){c=!0,o=t}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(t,e)||a(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=a(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){u=!0,i=t},f:function(){try{c||null==n.return||n.return()}finally{if(u)throw i}}}}function a(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var c=n(453),u=n(890),s=n(325),f=n(756),l=n(169),d=n(923),p=n(506),v=p.renderMissedShot,m=p.renderHit;t.exports=function(t){var e=[],n=[],a=[],i=function(){for(var t=0;t<=9;t++)for(var e=0;e<=9;e++)a.push([e,t])},p=function(){return n.map((function(t){return t.coordinates}))},h=function(){return e.length==n.length&&(console.log(!0),f(t),!0)},y=function t(e){var n,r,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],c=JSON.stringify(a);0==i.length?(n=Math.floor(Math.random()*a.length),r=a[n]):i.forEach((function(t){o=a.filter((function(e){return e[0]!=t[0]||e[1]!=t[1]})),n=Math.floor(Math.random()*o.length),r=o[n]}));for(var u=0;u<=e;u++){var s=JSON.stringify([r[0],r[1]+u]);if(i.push(r),-1==c.indexOf(s))return t(e,i)}for(var f=function(t){a=(a=(a=a.filter((function(e){return r[0]!=e[0]||r[1]+t!=e[1]}))).filter((function(e){return r[0]+1!=e[0]||r[1]+t!=e[1]}))).filter((function(e){return r[0]-1!=e[0]||r[1]+t!=e[1]}))},l=-1;l<e+1;l++)f(l);return[r[0],r[1]]},g=function t(e){var n,r,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],c=JSON.stringify(a);0==i.length?(n=Math.floor(Math.random()*a.length),r=a[n]):i.forEach((function(t){o=a.filter((function(e){return e[0]!=t[0]||e[1]!=t[1]})),n=Math.floor(Math.random()*o.length),r=o[n]}));for(var u=0;u<=e;u++){var s=JSON.stringify([r[0]+u,r[1]]);if(-1==c.indexOf(s))return i.push(r),t(e,i)}for(var f=function(t){a=(a=(a=a.filter((function(e){return r[0]+t!=e[0]||r[1]!=e[1]}))).filter((function(e){return r[0]+t!=e[0]||r[1]+1!=e[1]}))).filter((function(e){return r[0]+t!=e[0]||r[1]-1!=e[1]}))},l=-1;l<e+1;l++)f(l);return[r[0],r[1]]},b=function(){var t,e,a,i=["horizontal","vertical"],u=o([c(9)]);try{for(u.s();!(a=u.n()).done;){var s=a.value,f=Math.floor(2*Math.random()),l=[];switch(i[f]){case"horizontal":var d=r(g(s.length),2);t=d[0],e=d[1];for(var p=0;p<s.length;p++)l.push([t+p,e]);n.push({ship:s,coordinates:l});break;case"vertical":var v=r(y(s.length),2);t=v[0],e=v[1];for(var m=0;m<s.length;m++)l.push([t,e+m]);n.push({ship:s,coordinates:l})}}}catch(t){u.e(t)}finally{u.f()}};return i(),b(),u(t?"computer":"player",p()),{recieveAttack:function(t,r){var a,i=o(n);try{for(i.s();!(a=i.n()).done;){var c,u=a.value,s=o(u.coordinates);try{for(s.s();!(c=s.n()).done;){var f=c.value;if(f[0]==t[0]&&f[1]==t[1])return"Ship sunked"==u.ship.hit()&&e.push(u),m(r?"computer":"player",t),void h()}}catch(t){s.e(t)}finally{s.f()}}}catch(t){i.e(t)}finally{i.f()}return v(r?"computer":"player",t)},randomize:function(){n=[],a=[],i(),b(),s(),u("player",p())},restart:function(){e=[],n=[],a=[],d(),i(),b(),l(t),u(t?"computer":"player",p())},checkGameEnd:h}}},110:function(t,e,n){var r=n(760);t.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=r(t),n=[];if(1==t)for(var o=0;o<=9;o++)for(var a=0;a<=9;a++)n.push([a,o]);function i(){var t=Math.floor(Math.random()*n.length);return n.splice(t,1).flat()}var c=function(e,n){if(1!=t)e.gameBoard.recieveAttack(n,e.isComputer);else{var r=i();e.gameBoard.recieveAttack(r,e.isComputer)}};return{attack:c,gameBoard:e,isComputer:t}}},453:function(t){t.exports=function(t){var e=0;return{hit:function(){if((e+=1)>=t)return"Ship sunked"},length:t}}},495:function(t,e,n){"use strict";var r=n(537),o=n.n(r),a=n(645),i=n.n(a)()(o());i.push([t.id,"// extracted by mini-css-extract-plugin\nexport {};","",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"AAAA;QACQ,CAAA",sourcesContent:["// extracted by mini-css-extract-plugin\nexport {};"],sourceRoot:""}]),e.Z=i},645:function(t){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,o,a){"string"==typeof t&&(t=[[null,t,void 0]]);var i={};if(r)for(var c=0;c<this.length;c++){var u=this[c][0];null!=u&&(i[u]=!0)}for(var s=0;s<t.length;s++){var f=[].concat(t[s]);r&&i[f[0]]||(void 0!==a&&(void 0===f[5]||(f[1]="@layer".concat(f[5].length>0?" ".concat(f[5]):""," {").concat(f[1],"}")),f[5]=a),n&&(f[2]?(f[1]="@media ".concat(f[2]," {").concat(f[1],"}"),f[2]=n):f[2]=n),o&&(f[4]?(f[1]="@supports (".concat(f[4],") {").concat(f[1],"}"),f[4]=o):f[4]="".concat(o)),e.push(f))}},e}},537:function(t){"use strict";t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),a="/*# ".concat(o," */"),i=n.sources.map((function(t){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(t," */")}));return[e].concat(i).concat([a]).join("\n")}return[e].join("\n")}},692:function(t,e,n){"use strict";n.r(e);var r=n(379),o=n.n(r),a=n(795),i=n.n(a),c=n(569),u=n.n(c),s=n(565),f=n.n(s),l=n(216),d=n.n(l),p=n(589),v=n.n(p),m=n(495),h={};h.styleTagTransform=v(),h.setAttributes=f(),h.insert=u().bind(null,"head"),h.domAPI=i(),h.insertStyleElement=d();o()(m.Z,h);e.default=m.Z&&m.Z.locals?m.Z.locals:void 0},379:function(t){"use strict";var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var a={},i=[],c=0;c<t.length;c++){var u=t[c],s=r.base?u[0]+r.base:u[0],f=a[s]||0,l="".concat(s," ").concat(f);a[s]=f+1;var d=n(l),p={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==d)e[d].references++,e[d].updater(p);else{var v=o(p,r);r.byIndex=c,e.splice(c,0,{identifier:l,updater:v,references:1})}i.push(l)}return i}function o(t,e){var n=e.domAPI(e);n.update(t);return function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var a=r(t=t||[],o=o||{});return function(t){t=t||[];for(var i=0;i<a.length;i++){var c=n(a[i]);e[c].references--}for(var u=r(t,o),s=0;s<a.length;s++){var f=n(a[s]);0===e[f].references&&(e[f].updater(),e.splice(f,1))}a=u}}},569:function(t){"use strict";var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:function(t){"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:function(t,e,n){"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:function(t){"use strict";t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:function(t){"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={id:r,exports:{}};return t[r](a,a.exports,n),a.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},function(){n(692);var t=n(110),e=t(!1),r=t(!0),o=document.querySelector(".randombtn");function a(){var t=Array.from(document.querySelectorAll(".divRowcomputer"));function n(t){if(!e.gameBoard.checkGameEnd()&&!r.gameBoard.checkGameEnd()){o.style.display="none";var n=t.target.dataset.coordinates.split(",").map((function(t){return parseInt(t)}));e.attack(r,n),e.gameBoard.checkGameEnd()||r.gameBoard.checkGameEnd()||setTimeout((function(){r.attack(e)}),"150")}}o.style.display="block",t.forEach((function(t){return t.addEventListener("click",n,{once:!0})}))}o.addEventListener("click",(function(){return e.gameBoard.randomize()})),a();var i=document.querySelector(".buttonrestart");i.addEventListener("click",(function(){e.gameBoard.restart(),r.gameBoard.restart(),i.style.display="none",a()}))}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VXBNLE1BQU1DLFFBQVUsUUFDMUJxTSxFQUFhaE0sU0FBUSxTQUFDQyxHQUFELE9BQ25CQSxFQUFJcU0saUJBQWlCLFFBQVNMLEVBQWdCLENBQUVNLE1BQU0sT0ExQjFEVCxFQUFVUSxpQkFBaUIsU0FBUyxrQkFBTVYsRUFBT3RMLFVBQVUrRCxlQThCM0QwSCxJQUVBLElBQUlTLEVBQWdCck4sU0FBU0MsY0FBYyxrQkFDM0NvTixFQUFjRixpQkFBaUIsU0FBUyxXQUN0Q1YsRUFBT3RMLFVBQVVnRSxVQUNqQnVILEVBQVN2TCxVQUFVZ0UsVUFDbkJrSSxFQUFjOU0sTUFBTUMsUUFBVSxPQUM5Qm9NLE8iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2NvbXBvbmVudHMvRE9NSW50ZXJhY3Rpb25zL2RlbGV0ZUJvYXJkcy5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2NvbXBvbmVudHMvRE9NSW50ZXJhY3Rpb25zL2RlbGV0ZVBsYXllckJvYXJkLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvY29tcG9uZW50cy9ET01JbnRlcmFjdGlvbnMvZGVsZXRlV2lubmVyLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvY29tcG9uZW50cy9ET01JbnRlcmFjdGlvbnMvZ2FtZU92ZXIuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9jb21wb25lbnRzL0RPTUludGVyYWN0aW9ucy9yZW5kZXIuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9jb21wb25lbnRzL0RPTUludGVyYWN0aW9ucy9yZW5kZXJDaGFuZ2UuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9jb21wb25lbnRzL09iamVjdHMvZ2FtZUJvYXJkLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvY29tcG9uZW50cy9PYmplY3RzL3BsYXllck9iai5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2NvbXBvbmVudHMvT2JqZWN0cy9zaGlwT2JqLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvc3R5bGUuY3NzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL3N0eWxlLmNzcz82NzQzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL2JhdHRsZXNoaXAvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2JhdHRsZXNoaXAvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBkZWxldGVCb2FyZHMoaXNDb21wdXRlcikge1xyXG4gIGlmIChpc0NvbXB1dGVyKSB7XHJcbiAgICBsZXQgY29tcHV0ZXJCb2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ2FtZUJvYXJkY29tcHV0ZXJcIik7XHJcbiAgICBjb21wdXRlckJvYXJkLnJlbW92ZSgpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBsZXQgcGxheWVyQm9hcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmdhbWVCb2FyZHBsYXllclwiKTtcclxuICAgIHBsYXllckJvYXJkLnJlbW92ZSgpO1xyXG4gIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBkZWxldGVCb2FyZHM7XHJcbiIsImZ1bmN0aW9uIGRlbGV0ZVBsYXllckJvYXJkKCkge1xyXG4gIGxldCBwbGF5ZXJCb2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ2FtZUJvYXJkcGxheWVyXCIpO1xyXG4gIHBsYXllckJvYXJkLnJlbW92ZSgpO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGRlbGV0ZVBsYXllckJvYXJkO1xyXG4iLCJmdW5jdGlvbiBkZWxldGVXaW5uZXIoKSB7XHJcbiAgbGV0IHdpbm5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIud2lubmVyXCIpO1xyXG4gIHdpbm5lci5yZW1vdmUoKTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBkZWxldGVXaW5uZXI7XHJcbiIsImZ1bmN0aW9uIGdhbWVPdmVyKGlzQ29tcHV0ZXIpIHtcclxuICBsZXQgd2lubmVycCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG4gIHdpbm5lcnAuY2xhc3NOYW1lID0gXCJ3aW5uZXJcIjtcclxuICBpZiAoaXNDb21wdXRlcikge1xyXG4gICAgd2lubmVycC50ZXh0Q29udGVudCA9IFwiQ29uZ3JhdHVsYXRpb25zISBZb3Ugd29uIVwiO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB3aW5uZXJwLnRleHRDb250ZW50ID0gXCJFbmVteSB3b24hXCI7XHJcbiAgfVxyXG4gIGxldCByZXN0YXJ0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idXR0b25yZXN0YXJ0XCIpO1xyXG4gIHJlc3RhcnRCdG4uc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuXHJcbiAgbGV0IG1haW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwibWFpblwiKTtcclxuICBtYWluLmFwcGVuZCh3aW5uZXJwKTtcclxuICBsZXQgY29tcHV0ZXJEaXZzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmRpdlJvd2NvbXB1dGVyXCIpKTtcclxuICBjb21wdXRlckRpdnMuZm9yRWFjaCgoZGl2KSA9PiB7XHJcbiAgICBkaXYuY2xhc3NMaXN0LnJlbW92ZShcImRpdlJvd2NvbXB1dGVyXCIpO1xyXG4gICAgZGl2LmNsYXNzTGlzdC5hZGQoXCJkaXZSb3ctbm9ob3ZlclwiKTtcclxuICB9KTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBnYW1lT3ZlcjtcclxuIiwiZnVuY3Rpb24gY3JlYXRlQm9hcmQoYmVsb25nc1RvLCBkaXNwbGF5U2hpcHMpIHtcclxuICBsZXQgZ2FtZUJvYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICBnYW1lQm9hcmQuY2xhc3NMaXN0LmFkZChcImdhbWVCb2FyZFwiICsgYmVsb25nc1RvLCBcImdhbWVCb2FyZFwiKTtcclxuICBmb3IgKGxldCB5ID0gMDsgeSA8IDEwOyB5KyspIHtcclxuICAgIGxldCBkaXZDb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgZGl2Q29sdW1uLmNsYXNzTGlzdC5hZGQoXCJkaXZDb2x1bW5cIiArIGJlbG9uZ3NUbywgXCJkaXZDb2x1bW5cIik7XHJcbiAgICBmb3IgKGxldCB4ID0gMDsgeCA8IDEwOyB4KyspIHtcclxuICAgICAgbGV0IGRpdlJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgIGRpdlJvdy5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNvb3JkaW5hdGVzXCIsIFt4LCB5XSk7XHJcbiAgICAgIGRpdlJvdy5jbGFzc0xpc3QuYWRkKFwiZGl2Um93XCIgKyBiZWxvbmdzVG8sIFwiZGl2Um93XCIpO1xyXG5cclxuICAgICAgaWYgKGJlbG9uZ3NUbyA9PSBcInBsYXllclwiKSB7XHJcbiAgICAgICAgaWYgKGRpc3BsYXlTaGlwcy5mbGF0KCkuc29tZSgodmFsKSA9PiB2YWxbMF0gPT0geCAmJiB2YWxbMV0gPT0geSkpIHtcclxuICAgICAgICAgIGRpdlJvdy5jbGFzc0xpc3QuYWRkKFwic2hpcFwiLCBcImRpdlJvdy1ub2hvdmVyXCIpO1xyXG4gICAgICAgICAgZGl2Um93LmNsYXNzTGlzdC5yZW1vdmUoXCJkaXZSb3dcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBkaXZDb2x1bW4uYXBwZW5kQ2hpbGQoZGl2Um93KTtcclxuICAgIH1cclxuXHJcbiAgICBnYW1lQm9hcmQuaW5zZXJ0QmVmb3JlKGRpdkNvbHVtbiwgZ2FtZUJvYXJkLmZpcnN0Q2hpbGQpO1xyXG4gIH1cclxuXHJcbiAgaWYgKGJlbG9uZ3NUbyA9PSBcInBsYXllclwiKSB7XHJcbiAgICBsZXQgcmlnaHRQbGF5ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJpZ2h0cGxheWVyXCIpO1xyXG4gICAgcmlnaHRQbGF5ZXIuYXBwZW5kKGdhbWVCb2FyZCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGxldCByaWdodENvbXB1dGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yaWdodGNvbXB1dGVyXCIpO1xyXG4gICAgcmlnaHRDb21wdXRlci5hcHBlbmQoZ2FtZUJvYXJkKTtcclxuICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gY3JlYXRlQm9hcmQ7XHJcbiIsImZ1bmN0aW9uIHJlbmRlck1pc3NlZFNob3QoYmVsb25nc1RvLCBjb29yZGluYXRlcykge1xyXG4gIGxldCBzcXVhcmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgYC5kaXZSb3cke2JlbG9uZ3NUb31bZGF0YS1jb29yZGluYXRlcz1cIiR7Y29vcmRpbmF0ZXN9XCJdYFxyXG4gICk7XHJcbiAgc3F1YXJlLmNsYXNzTGlzdC5hZGQoXCJtaXNzZWRzaG90XCIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW5kZXJIaXQoYmVsb25nc1RvLCBjb29yZGluYXRlcykge1xyXG4gIGxldCBzcXVhcmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgYC5kaXZSb3cke2JlbG9uZ3NUb31bZGF0YS1jb29yZGluYXRlcz1cIiR7Y29vcmRpbmF0ZXN9XCJdYFxyXG4gICk7XHJcbiAgc3F1YXJlLmNsYXNzTGlzdC5hZGQoXCJoaXRcIik7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0geyByZW5kZXJNaXNzZWRTaG90LCByZW5kZXJIaXQgfTtcclxuIiwiY29uc3Qgc2hpcE9iaiA9IHJlcXVpcmUoXCIuL3NoaXBPYmouanNcIik7XHJcbmNvbnN0IGNyZWF0ZUJvYXJkID0gcmVxdWlyZShcIi4uL0RPTUludGVyYWN0aW9ucy9yZW5kZXIuanNcIik7XHJcbmNvbnN0IGRlbGV0ZVBsYXllckJvYXJkID0gcmVxdWlyZShcIi4uL0RPTUludGVyYWN0aW9ucy9kZWxldGVQbGF5ZXJCb2FyZC5qc1wiKTtcclxuY29uc3QgZ2FtZU92ZXIgPSByZXF1aXJlKFwiLi4vRE9NSW50ZXJhY3Rpb25zL2dhbWVPdmVyLmpzXCIpO1xyXG5jb25zdCBkZWxldGVCb2FyZHMgPSByZXF1aXJlKFwiLi4vRE9NSW50ZXJhY3Rpb25zL2RlbGV0ZUJvYXJkcy5qc1wiKTtcclxuY29uc3QgZGVsZXRlV2lubmVyID0gcmVxdWlyZShcIi4uL0RPTUludGVyYWN0aW9ucy9kZWxldGVXaW5uZXIuanNcIik7XHJcbmNvbnN0IHtcclxuICByZW5kZXJNaXNzZWRTaG90LFxyXG4gIHJlbmRlckhpdCxcclxufSA9IHJlcXVpcmUoXCIuLi9ET01JbnRlcmFjdGlvbnMvcmVuZGVyQ2hhbmdlLmpzXCIpO1xyXG5cclxuZnVuY3Rpb24gZ2FtZUJvYXJkKGlzQ29tcHV0ZXIpIHtcclxuICBsZXQgc3Vua2VuU2hpcHMgPSBbXTtcclxuICBsZXQgc2hpcHNPbkJvYXJkID0gW107XHJcblxyXG4gIGxldCBfZ2VuZXJhdGVTaGlwcyA9ICgpID0+IHtcclxuICAgIGxldCBsaXN0T2ZTaGlwcyA9IFtcclxuICAgICAgc2hpcE9iaig5KSxcclxuICAgICAgLy8gc2hpcE9iaigzKSxcclxuICAgICAgLy8gc2hpcE9iaigzKSxcclxuICAgICAgLy8gc2hpcE9iaigyKSxcclxuICAgICAgLy8gc2hpcE9iaigyKSxcclxuICAgICAgLy8gc2hpcE9iaigxKSxcclxuICAgICAgLy8gc2hpcE9iaigxKSxcclxuICAgICAgLy8gc2hpcE9iaigxKSxcclxuICAgIF07XHJcbiAgICByZXR1cm4gbGlzdE9mU2hpcHM7XHJcbiAgfTtcclxuXHJcbiAgbGV0IGF2YWlsaWJsZVNxYXVyZXMgPSBbXTtcclxuICBsZXQgX2dlbmVyYXRlQXZhaWxpYmxlU3F1YXJlcyA9ICgpID0+IHtcclxuICAgIGZvciAobGV0IHkgPSAwOyB5IDw9IDk7IHkrKykge1xyXG4gICAgICBmb3IgKGxldCB4ID0gMDsgeCA8PSA5OyB4KyspIHtcclxuICAgICAgICBhdmFpbGlibGVTcWF1cmVzLnB1c2goW3gsIHldKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGxldCBfZ2V0U2hpcHNPbkJvYXJkID0gKCkgPT4ge1xyXG4gICAgbGV0IGFyck9mQ29vcmQgPSBzaGlwc09uQm9hcmQubWFwKCh2YWwpID0+IHZhbC5jb29yZGluYXRlcyk7XHJcblxyXG4gICAgcmV0dXJuIGFyck9mQ29vcmQ7XHJcbiAgfTtcclxuXHJcbiAgbGV0IGNoZWNrR2FtZUVuZCA9ICgpID0+IHtcclxuICAgIGlmIChzdW5rZW5TaGlwcy5sZW5ndGggPT0gc2hpcHNPbkJvYXJkLmxlbmd0aCkge1xyXG4gICAgICBjb25zb2xlLmxvZyh0cnVlKTtcclxuICAgICAgZ2FtZU92ZXIoaXNDb21wdXRlcik7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH07XHJcblxyXG4gIGxldCBfZ2VuZXJhdGVWYWx1ZXNWZXJ0aWNhbCA9IChzaGlwTGVuZ3RoLCB0cmllZFZlcnRpY2FsID0gW10pID0+IHtcclxuICAgIGxldCByYW5kb21WYWx1ZTtcclxuICAgIGxldCBjb29yZDtcclxuICAgIGxldCBhdmFpbGlibGVTcXVhcmVzU3RyZyA9IEpTT04uc3RyaW5naWZ5KGF2YWlsaWJsZVNxYXVyZXMpO1xyXG5cclxuICAgIGlmICh0cmllZFZlcnRpY2FsLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgIHJhbmRvbVZhbHVlID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYXZhaWxpYmxlU3FhdXJlcy5sZW5ndGgpO1xyXG4gICAgICBjb29yZCA9IGF2YWlsaWJsZVNxYXVyZXNbcmFuZG9tVmFsdWVdO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbGV0IG5ld0FycmF5O1xyXG4gICAgICB0cmllZFZlcnRpY2FsLmZvckVhY2goKGFycikgPT4ge1xyXG4gICAgICAgIG5ld0FycmF5ID0gYXZhaWxpYmxlU3FhdXJlcy5maWx0ZXIoXHJcbiAgICAgICAgICAoZWxlbSkgPT4gZWxlbVswXSAhPSBhcnJbMF0gfHwgZWxlbVsxXSAhPSBhcnJbMV1cclxuICAgICAgICApO1xyXG4gICAgICAgIHJhbmRvbVZhbHVlID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbmV3QXJyYXkubGVuZ3RoKTtcclxuICAgICAgICBjb29yZCA9IG5ld0FycmF5W3JhbmRvbVZhbHVlXTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gc2hpcExlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGxldCBjb29yZFN0cmluZ2lmaWVkID0gSlNPTi5zdHJpbmdpZnkoW2Nvb3JkWzBdLCBjb29yZFsxXSArIGldKTtcclxuICAgICAgdHJpZWRWZXJ0aWNhbC5wdXNoKGNvb3JkKTtcclxuICAgICAgaWYgKGF2YWlsaWJsZVNxdWFyZXNTdHJnLmluZGV4T2YoY29vcmRTdHJpbmdpZmllZCkgPT0gLTEpIHtcclxuICAgICAgICByZXR1cm4gX2dlbmVyYXRlVmFsdWVzVmVydGljYWwoc2hpcExlbmd0aCwgdHJpZWRWZXJ0aWNhbCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGxldCBpID0gLTE7IGkgPCBzaGlwTGVuZ3RoICsgMTsgaSsrKSB7XHJcbiAgICAgIGF2YWlsaWJsZVNxYXVyZXMgPSBhdmFpbGlibGVTcWF1cmVzLmZpbHRlcihcclxuICAgICAgICAodmFsKSA9PiBjb29yZFswXSAhPSB2YWxbMF0gfHwgY29vcmRbMV0gKyBpICE9IHZhbFsxXVxyXG4gICAgICApO1xyXG5cclxuICAgICAgYXZhaWxpYmxlU3FhdXJlcyA9IGF2YWlsaWJsZVNxYXVyZXMuZmlsdGVyKFxyXG4gICAgICAgICh2YWwpID0+IGNvb3JkWzBdICsgMSAhPSB2YWxbMF0gfHwgY29vcmRbMV0gKyBpICE9IHZhbFsxXVxyXG4gICAgICApO1xyXG5cclxuICAgICAgYXZhaWxpYmxlU3FhdXJlcyA9IGF2YWlsaWJsZVNxYXVyZXMuZmlsdGVyKFxyXG4gICAgICAgICh2YWwpID0+IGNvb3JkWzBdIC0gMSAhPSB2YWxbMF0gfHwgY29vcmRbMV0gKyBpICE9IHZhbFsxXVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFtjb29yZFswXSwgY29vcmRbMV1dO1xyXG4gIH07XHJcblxyXG4gIGxldCBfZ2VuZXJhdGVWYWx1ZXNIb3Jpem9udGFsID0gKHNoaXBMZW5ndGgsIHRyaWVkSG9yaXpvbnRhbCA9IFtdKSA9PiB7XHJcbiAgICBsZXQgcmFuZG9tVmFsdWU7XHJcbiAgICBsZXQgY29vcmQ7XHJcbiAgICBsZXQgYXZhaWxpYmxlU3F1YXJlc1N0cmcgPSBKU09OLnN0cmluZ2lmeShhdmFpbGlibGVTcWF1cmVzKTtcclxuICAgIGlmICh0cmllZEhvcml6b250YWwubGVuZ3RoID09IDApIHtcclxuICAgICAgcmFuZG9tVmFsdWUgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBhdmFpbGlibGVTcWF1cmVzLmxlbmd0aCk7XHJcbiAgICAgIGNvb3JkID0gYXZhaWxpYmxlU3FhdXJlc1tyYW5kb21WYWx1ZV07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBsZXQgbmV3QXJyYXk7XHJcbiAgICAgIHRyaWVkSG9yaXpvbnRhbC5mb3JFYWNoKChhcnIpID0+IHtcclxuICAgICAgICBuZXdBcnJheSA9IGF2YWlsaWJsZVNxYXVyZXMuZmlsdGVyKFxyXG4gICAgICAgICAgKGVsZW0pID0+IGVsZW1bMF0gIT0gYXJyWzBdIHx8IGVsZW1bMV0gIT0gYXJyWzFdXHJcbiAgICAgICAgKTtcclxuICAgICAgICByYW5kb21WYWx1ZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG5ld0FycmF5Lmxlbmd0aCk7XHJcbiAgICAgICAgY29vcmQgPSBuZXdBcnJheVtyYW5kb21WYWx1ZV07XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IHNoaXBMZW5ndGg7IGkrKykge1xyXG4gICAgICBsZXQgY29vcmRTdHJpbmdpZmllZCA9IEpTT04uc3RyaW5naWZ5KFtjb29yZFswXSArIGksIGNvb3JkWzFdXSk7XHJcbiAgICAgIGlmIChhdmFpbGlibGVTcXVhcmVzU3RyZy5pbmRleE9mKGNvb3JkU3RyaW5naWZpZWQpID09IC0xKSB7XHJcbiAgICAgICAgdHJpZWRIb3Jpem9udGFsLnB1c2goY29vcmQpO1xyXG4gICAgICAgIHJldHVybiBfZ2VuZXJhdGVWYWx1ZXNIb3Jpem9udGFsKHNoaXBMZW5ndGgsIHRyaWVkSG9yaXpvbnRhbCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGxldCBpID0gLTE7IGkgPCBzaGlwTGVuZ3RoICsgMTsgaSsrKSB7XHJcbiAgICAgIGF2YWlsaWJsZVNxYXVyZXMgPSBhdmFpbGlibGVTcWF1cmVzLmZpbHRlcihcclxuICAgICAgICAodmFsKSA9PiBjb29yZFswXSArIGkgIT0gdmFsWzBdIHx8IGNvb3JkWzFdICE9IHZhbFsxXVxyXG4gICAgICApO1xyXG5cclxuICAgICAgYXZhaWxpYmxlU3FhdXJlcyA9IGF2YWlsaWJsZVNxYXVyZXMuZmlsdGVyKFxyXG4gICAgICAgICh2YWwpID0+IGNvb3JkWzBdICsgaSAhPSB2YWxbMF0gfHwgY29vcmRbMV0gKyAxICE9IHZhbFsxXVxyXG4gICAgICApO1xyXG5cclxuICAgICAgYXZhaWxpYmxlU3FhdXJlcyA9IGF2YWlsaWJsZVNxYXVyZXMuZmlsdGVyKFxyXG4gICAgICAgICh2YWwpID0+IGNvb3JkWzBdICsgaSAhPSB2YWxbMF0gfHwgY29vcmRbMV0gLSAxICE9IHZhbFsxXVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBbY29vcmRbMF0sIGNvb3JkWzFdXTtcclxuICB9O1xyXG5cclxuICBsZXQgcGxhY2VTaGlwID0gKCkgPT4ge1xyXG4gICAgbGV0IHhDb29yZDtcclxuICAgIGxldCB5Q29vcmQ7XHJcblxyXG4gICAgbGV0IGNhc2VzID0gW1wiaG9yaXpvbnRhbFwiLCBcInZlcnRpY2FsXCJdO1xyXG4gICAgbGV0IGxpc3RPZlNoaXBzID0gX2dlbmVyYXRlU2hpcHMoKTtcclxuICAgIGZvciAobGV0IHNoaXAgb2YgbGlzdE9mU2hpcHMpIHtcclxuICAgICAgbGV0IHJhbmRvbU51bSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDIpO1xyXG4gICAgICBsZXQgcmFuZG9tQ2hvaWNlID0gY2FzZXNbcmFuZG9tTnVtXTtcclxuICAgICAgbGV0IHNxdWFyZXNUYWtlbkJ5U2hpcCA9IFtdO1xyXG5cclxuICAgICAgc3dpdGNoIChyYW5kb21DaG9pY2UpIHtcclxuICAgICAgICBjYXNlIFwiaG9yaXpvbnRhbFwiOlxyXG4gICAgICAgICAgW3hDb29yZCwgeUNvb3JkXSA9IF9nZW5lcmF0ZVZhbHVlc0hvcml6b250YWwoc2hpcC5sZW5ndGgpO1xyXG5cclxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBzcXVhcmVzVGFrZW5CeVNoaXAucHVzaChbeENvb3JkICsgaSwgeUNvb3JkXSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgc2hpcHNPbkJvYXJkLnB1c2goeyBzaGlwOiBzaGlwLCBjb29yZGluYXRlczogc3F1YXJlc1Rha2VuQnlTaGlwIH0pO1xyXG5cclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIFwidmVydGljYWxcIjpcclxuICAgICAgICAgIFt4Q29vcmQsIHlDb29yZF0gPSBfZ2VuZXJhdGVWYWx1ZXNWZXJ0aWNhbChzaGlwLmxlbmd0aCk7XHJcblxyXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHNxdWFyZXNUYWtlbkJ5U2hpcC5wdXNoKFt4Q29vcmQsIHlDb29yZCArIGldKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBzaGlwc09uQm9hcmQucHVzaCh7IHNoaXA6IHNoaXAsIGNvb3JkaW5hdGVzOiBzcXVhcmVzVGFrZW5CeVNoaXAgfSk7XHJcblxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG5cclxuICBsZXQgcmVjaWV2ZUF0dGFjayA9IChjb29yZGluYXRlcywgaXNDb21wdXRlcikgPT4ge1xyXG4gICAgZm9yIChsZXQgb2JqIG9mIHNoaXBzT25Cb2FyZCkge1xyXG4gICAgICBmb3IgKGxldCBhcnIgb2Ygb2JqLmNvb3JkaW5hdGVzKSB7XHJcbiAgICAgICAgaWYgKGFyclswXSA9PSBjb29yZGluYXRlc1swXSAmJiBhcnJbMV0gPT0gY29vcmRpbmF0ZXNbMV0pIHtcclxuICAgICAgICAgIGlmIChvYmouc2hpcC5oaXQoKSA9PSBcIlNoaXAgc3Vua2VkXCIpIHtcclxuICAgICAgICAgICAgc3Vua2VuU2hpcHMucHVzaChvYmopO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlzQ29tcHV0ZXJcclxuICAgICAgICAgICAgPyByZW5kZXJIaXQoXCJjb21wdXRlclwiLCBjb29yZGluYXRlcylcclxuICAgICAgICAgICAgOiByZW5kZXJIaXQoXCJwbGF5ZXJcIiwgY29vcmRpbmF0ZXMpO1xyXG5cclxuICAgICAgICAgIGNoZWNrR2FtZUVuZCgpO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBpc0NvbXB1dGVyXHJcbiAgICAgID8gcmVuZGVyTWlzc2VkU2hvdChcImNvbXB1dGVyXCIsIGNvb3JkaW5hdGVzKVxyXG4gICAgICA6IHJlbmRlck1pc3NlZFNob3QoXCJwbGF5ZXJcIiwgY29vcmRpbmF0ZXMpO1xyXG4gIH07XHJcblxyXG4gIGxldCByYW5kb21pemUgPSAoKSA9PiB7XHJcbiAgICBzaGlwc09uQm9hcmQgPSBbXTtcclxuICAgIGF2YWlsaWJsZVNxYXVyZXMgPSBbXTtcclxuICAgIF9nZW5lcmF0ZUF2YWlsaWJsZVNxdWFyZXMoKTtcclxuICAgIHBsYWNlU2hpcCgpO1xyXG4gICAgZGVsZXRlUGxheWVyQm9hcmQoKTtcclxuICAgIGNyZWF0ZUJvYXJkKFwicGxheWVyXCIsIF9nZXRTaGlwc09uQm9hcmQoKSk7XHJcbiAgfTtcclxuXHJcbiAgbGV0IHJlc3RhcnQgPSAoKSA9PiB7XHJcbiAgICBzdW5rZW5TaGlwcyA9IFtdO1xyXG4gICAgc2hpcHNPbkJvYXJkID0gW107XHJcbiAgICBhdmFpbGlibGVTcWF1cmVzID0gW107XHJcbiAgICBkZWxldGVXaW5uZXIoKTtcclxuICAgIF9nZW5lcmF0ZUF2YWlsaWJsZVNxdWFyZXMoKTtcclxuICAgIHBsYWNlU2hpcCgpO1xyXG4gICAgZGVsZXRlQm9hcmRzKGlzQ29tcHV0ZXIpO1xyXG4gICAgaXNDb21wdXRlclxyXG4gICAgICA/IGNyZWF0ZUJvYXJkKFwiY29tcHV0ZXJcIiwgX2dldFNoaXBzT25Cb2FyZCgpKVxyXG4gICAgICA6IGNyZWF0ZUJvYXJkKFwicGxheWVyXCIsIF9nZXRTaGlwc09uQm9hcmQoKSk7XHJcbiAgfTtcclxuXHJcbiAgKGZ1bmN0aW9uIGluaXRpYWxCb2FyZCgpIHtcclxuICAgIF9nZW5lcmF0ZUF2YWlsaWJsZVNxdWFyZXMoKTtcclxuICAgIHBsYWNlU2hpcCgpO1xyXG4gICAgaXNDb21wdXRlclxyXG4gICAgICA/IGNyZWF0ZUJvYXJkKFwiY29tcHV0ZXJcIiwgX2dldFNoaXBzT25Cb2FyZCgpKVxyXG4gICAgICA6IGNyZWF0ZUJvYXJkKFwicGxheWVyXCIsIF9nZXRTaGlwc09uQm9hcmQoKSk7XHJcbiAgfSkoKTtcclxuXHJcbiAgcmV0dXJuIHsgcmVjaWV2ZUF0dGFjaywgcmFuZG9taXplLCByZXN0YXJ0LCBjaGVja0dhbWVFbmQgfTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBnYW1lQm9hcmQ7XHJcbiIsImNvbnN0IGdhbWVCb2FyZE9iaiA9IHJlcXVpcmUoXCIuL2dhbWVCb2FyZC5qc1wiKTtcclxuXHJcbmZ1bmN0aW9uIFBsYXllcihpc0NvbXB1dGVyID0gZmFsc2UpIHtcclxuICBsZXQgZ2FtZUJvYXJkID0gZ2FtZUJvYXJkT2JqKGlzQ29tcHV0ZXIpO1xyXG4gIGxldCBhdmFpbGlibGVDb29yZGluYXRlcyA9IFtdO1xyXG5cclxuICBpZiAoaXNDb21wdXRlciA9PSB0cnVlKSB7XHJcbiAgICBmb3IgKGxldCB5ID0gMDsgeSA8PSA5OyB5KyspIHtcclxuICAgICAgZm9yIChsZXQgeCA9IDA7IHggPD0gOTsgeCsrKSB7XHJcbiAgICAgICAgYXZhaWxpYmxlQ29vcmRpbmF0ZXMucHVzaChbeCwgeV0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBfcmFuZG9tQ29vcmRpbmF0ZXMoKSB7XHJcbiAgICBsZXQgcmFuZG9tTnVtID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYXZhaWxpYmxlQ29vcmRpbmF0ZXMubGVuZ3RoKTtcclxuICAgIHJldHVybiBhdmFpbGlibGVDb29yZGluYXRlcy5zcGxpY2UocmFuZG9tTnVtLCAxKS5mbGF0KCk7XHJcbiAgfVxyXG5cclxuICBsZXQgYXR0YWNrID0gKGVuZW15LCBjb29yZGluYXRlcykgPT4ge1xyXG4gICAgaWYgKGlzQ29tcHV0ZXIgPT0gdHJ1ZSkge1xyXG4gICAgICBsZXQgcmFuZG9tQ29vcmRpbmF0ZXMgPSBfcmFuZG9tQ29vcmRpbmF0ZXMoKTtcclxuICAgICAgZW5lbXkuZ2FtZUJvYXJkLnJlY2lldmVBdHRhY2socmFuZG9tQ29vcmRpbmF0ZXMsIGVuZW15LmlzQ29tcHV0ZXIpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgZW5lbXkuZ2FtZUJvYXJkLnJlY2lldmVBdHRhY2soY29vcmRpbmF0ZXMsIGVuZW15LmlzQ29tcHV0ZXIpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiB7IGF0dGFjaywgZ2FtZUJvYXJkLCBpc0NvbXB1dGVyIH07XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gUGxheWVyO1xyXG4iLCJmdW5jdGlvbiBzaGlwT2JqKGxlbmd0aCkge1xyXG4gIGxldCBoaXRTY29yZSA9IDA7XHJcblxyXG4gIGxldCBfc2hpcFNpbmsgPSAoKSA9PiBcIlNoaXAgc3Vua2VkXCI7XHJcblxyXG4gIGxldCBoaXQgPSAoKSA9PiB7XHJcbiAgICBoaXRTY29yZSA9IGhpdFNjb3JlICsgMTtcclxuXHJcbiAgICBpZiAoaGl0U2NvcmUgPj0gbGVuZ3RoKSB7XHJcbiAgICAgIHJldHVybiBfc2hpcFNpbmsoKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICByZXR1cm4geyBoaXQsIGxlbmd0aCB9O1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHNoaXBPYmo7XHJcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXFxuZXhwb3J0IHt9O1wiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9zdHlsZS5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7UUFDUSxDQUFBXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxcbmV4cG9ydCB7fTtcIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKSB7XG4gIHZhciBsaXN0ID0gW107IC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblxuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IFwiXCI7XG4gICAgICB2YXIgbmVlZExheWVyID0gdHlwZW9mIGl0ZW1bNV0gIT09IFwidW5kZWZpbmVkXCI7XG5cbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIik7XG4gICAgICB9XG5cbiAgICAgIGNvbnRlbnQgKz0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKTtcblxuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gaShtb2R1bGVzLCBtZWRpYSwgZGVkdXBlLCBzdXBwb3J0cywgbGF5ZXIpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIHVuZGVmaW5lZF1dO1xuICAgIH1cblxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRoaXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgdmFyIGlkID0gdGhpc1trXVswXTtcblxuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIF9rID0gMDsgX2sgPCBtb2R1bGVzLmxlbmd0aDsgX2srKykge1xuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfa10pO1xuXG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgbGF5ZXIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVtWzVdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWRpYSkge1xuICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChzdXBwb3J0cykge1xuICAgICAgICBpZiAoIWl0ZW1bNF0pIHtcbiAgICAgICAgICBpdGVtWzRdID0gXCJcIi5jb25jYXQoc3VwcG9ydHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs0XSA9IHN1cHBvcnRzO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGxpc3Q7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gIHZhciBjb250ZW50ID0gaXRlbVsxXTtcbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG5cbiAgaWYgKHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoY3NzTWFwcGluZykpKSk7XG4gICAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xuICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gXCIvKiMgc291cmNlVVJMPVwiLmNvbmNhdChjc3NNYXBwaW5nLnNvdXJjZVJvb3QgfHwgXCJcIikuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbihcIlxcblwiKTtcbiAgfVxuXG4gIHJldHVybiBbY29udGVudF0uam9pbihcIlxcblwiKTtcbn07IiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanMhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcblxuICAgICAgb3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbiAgICBcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanMhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIjtcbiAgICAgICBleHBvcnQgZGVmYXVsdCBjb250ZW50ICYmIGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB1bmRlZmluZWQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIHN0eWxlc0luRE9NID0gW107XG5cbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzSW5ET00ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3R5bGVzSW5ET01baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xuICAgICAgcmVzdWx0ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgIHZhciBpZGVudGlmaWVyID0gXCJcIi5jb25jYXQoaWQsIFwiIFwiKS5jb25jYXQoY291bnQpO1xuICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgIHZhciBpbmRleEJ5SWRlbnRpZmllciA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgIHZhciBvYmogPSB7XG4gICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgIHNvdXJjZU1hcDogaXRlbVszXSxcbiAgICAgIHN1cHBvcnRzOiBpdGVtWzRdLFxuICAgICAgbGF5ZXI6IGl0ZW1bNV1cbiAgICB9O1xuXG4gICAgaWYgKGluZGV4QnlJZGVudGlmaWVyICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB1cGRhdGVyID0gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucyk7XG4gICAgICBvcHRpb25zLmJ5SW5kZXggPSBpO1xuICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKGksIDAsIHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogdXBkYXRlcixcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuXG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cblxuZnVuY3Rpb24gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgYXBpID0gb3B0aW9ucy5kb21BUEkob3B0aW9ucyk7XG4gIGFwaS51cGRhdGUob2JqKTtcblxuICB2YXIgdXBkYXRlciA9IGZ1bmN0aW9uIHVwZGF0ZXIobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCAmJiBuZXdPYmouc3VwcG9ydHMgPT09IG9iai5zdXBwb3J0cyAmJiBuZXdPYmoubGF5ZXIgPT09IG9iai5sYXllcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGFwaS51cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbW92ZSgpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gdXBkYXRlcjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cblxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcblxuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcblxuICAgICAgaWYgKHN0eWxlc0luRE9NW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRPTVtfaW5kZXhdLnVwZGF0ZXIoKTtcblxuICAgICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgbWVtbyA9IHt9O1xuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cbmZ1bmN0aW9uIGdldFRhcmdldCh0YXJnZXQpIHtcbiAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gIH1cblxuICByZXR1cm4gbWVtb1t0YXJnZXRdO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxuZnVuY3Rpb24gaW5zZXJ0QnlTZWxlY3RvcihpbnNlcnQsIHN0eWxlKSB7XG4gIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQoaW5zZXJ0KTtcblxuICBpZiAoIXRhcmdldCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gIH1cblxuICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydEJ5U2VsZWN0b3I7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gIG9wdGlvbnMuc2V0QXR0cmlidXRlcyhlbGVtZW50LCBvcHRpb25zLmF0dHJpYnV0ZXMpO1xuICBvcHRpb25zLmluc2VydChlbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xuICByZXR1cm4gZWxlbWVudDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzKHN0eWxlRWxlbWVudCkge1xuICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09IFwidW5kZWZpbmVkXCIgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG5cbiAgaWYgKG5vbmNlKSB7XG4gICAgc3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlczsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gXCJcIjtcblxuICBpZiAob2JqLnN1cHBvcnRzKSB7XG4gICAgY3NzICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQob2JqLnN1cHBvcnRzLCBcIikge1wiKTtcbiAgfVxuXG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKTtcbiAgfVxuXG4gIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2Ygb2JqLmxheWVyICE9PSBcInVuZGVmaW5lZFwiO1xuXG4gIGlmIChuZWVkTGF5ZXIpIHtcbiAgICBjc3MgKz0gXCJAbGF5ZXJcIi5jb25jYXQob2JqLmxheWVyLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQob2JqLmxheWVyKSA6IFwiXCIsIFwiIHtcIik7XG4gIH1cblxuICBjc3MgKz0gb2JqLmNzcztcblxuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG5cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuXG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cblxuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuICBpZiAoc291cmNlTWFwICYmIHR5cGVvZiBidG9hICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH0gLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuXG4gIG9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZUVsZW1lbnQucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG5mdW5jdGlvbiBkb21BUEkob3B0aW9ucykge1xuICB2YXIgc3R5bGVFbGVtZW50ID0gb3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gIHJldHVybiB7XG4gICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUob2JqKSB7XG4gICAgICBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaik7XG4gICAgfSxcbiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkb21BUEk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQpIHtcbiAgaWYgKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc3R5bGVUYWdUcmFuc2Zvcm07IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0ZnVuY3Rpb24oKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG5cdFx0ZnVuY3Rpb24oKSB7IHJldHVybiBtb2R1bGU7IH07XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBkZWZpbml0aW9uKSB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iaiwgcHJvcCkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7IH0iLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsInJlcXVpcmUoXCIuL3N0eWxlLmNzc1wiKTtcclxuY29uc3QgcGxheWVyT2JqID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9PYmplY3RzL3BsYXllck9iai5qc1wiKTtcclxuXHJcbmxldCBwbGF5ZXIgPSBwbGF5ZXJPYmooZmFsc2UpO1xyXG5sZXQgY29tcHV0ZXIgPSBwbGF5ZXJPYmoodHJ1ZSk7XHJcbmxldCByYW5kb21idG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJhbmRvbWJ0blwiKTtcclxucmFuZG9tYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBwbGF5ZXIuZ2FtZUJvYXJkLnJhbmRvbWl6ZSgpKTtcclxuXHJcbmZ1bmN0aW9uIGdhbWVMb29wKCkge1xyXG4gIGxldCBjb21wdXRlckRpdnMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZGl2Um93Y29tcHV0ZXJcIikpO1xyXG5cclxuICBmdW5jdGlvbiBhdHRhY2tDb21wdXRlcihlKSB7XHJcbiAgICBpZiAocGxheWVyLmdhbWVCb2FyZC5jaGVja0dhbWVFbmQoKSB8fCBjb21wdXRlci5nYW1lQm9hcmQuY2hlY2tHYW1lRW5kKCkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHJhbmRvbWJ0bi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICBsZXQgY29vcmRpbmF0ZXMgPSBlLnRhcmdldC5kYXRhc2V0LmNvb3JkaW5hdGVzXHJcbiAgICAgIC5zcGxpdChcIixcIilcclxuICAgICAgLm1hcCgodmFsKSA9PiBwYXJzZUludCh2YWwpKTtcclxuICAgIHBsYXllci5hdHRhY2soY29tcHV0ZXIsIGNvb3JkaW5hdGVzKTtcclxuXHJcbiAgICBpZiAocGxheWVyLmdhbWVCb2FyZC5jaGVja0dhbWVFbmQoKSB8fCBjb21wdXRlci5nYW1lQm9hcmQuY2hlY2tHYW1lRW5kKCkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBjb21wdXRlci5hdHRhY2socGxheWVyKTtcclxuICAgIH0sIFwiMTUwXCIpO1xyXG4gIH1cclxuICByYW5kb21idG4uc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICBjb21wdXRlckRpdnMuZm9yRWFjaCgoZGl2KSA9PlxyXG4gICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhdHRhY2tDb21wdXRlciwgeyBvbmNlOiB0cnVlIH0pXHJcbiAgKTtcclxufVxyXG5cclxuZ2FtZUxvb3AoKTtcclxuXHJcbmxldCByZXN0YXJ0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idXR0b25yZXN0YXJ0XCIpO1xyXG5yZXN0YXJ0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgcGxheWVyLmdhbWVCb2FyZC5yZXN0YXJ0KCk7XHJcbiAgY29tcHV0ZXIuZ2FtZUJvYXJkLnJlc3RhcnQoKTtcclxuICByZXN0YXJ0QnV0dG9uLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICBnYW1lTG9vcCgpO1xyXG59KTtcclxuIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJpc0NvbXB1dGVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicmVtb3ZlIiwid2lubmVycCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJ0ZXh0Q29udGVudCIsInN0eWxlIiwiZGlzcGxheSIsImFwcGVuZCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiZGl2IiwiY2xhc3NMaXN0IiwiYWRkIiwiYmVsb25nc1RvIiwiZGlzcGxheVNoaXBzIiwiZ2FtZUJvYXJkIiwieSIsImRpdkNvbHVtbiIsIngiLCJkaXZSb3ciLCJzZXRBdHRyaWJ1dGUiLCJmbGF0Iiwic29tZSIsInZhbCIsImFwcGVuZENoaWxkIiwiaW5zZXJ0QmVmb3JlIiwiZmlyc3RDaGlsZCIsInJlbmRlck1pc3NlZFNob3QiLCJjb29yZGluYXRlcyIsInJlbmRlckhpdCIsInNoaXBPYmoiLCJyZXF1aXJlIiwiY3JlYXRlQm9hcmQiLCJkZWxldGVQbGF5ZXJCb2FyZCIsImdhbWVPdmVyIiwiZGVsZXRlQm9hcmRzIiwiZGVsZXRlV2lubmVyIiwic3Vua2VuU2hpcHMiLCJzaGlwc09uQm9hcmQiLCJhdmFpbGlibGVTcWF1cmVzIiwiX2dlbmVyYXRlQXZhaWxpYmxlU3F1YXJlcyIsInB1c2giLCJfZ2V0U2hpcHNPbkJvYXJkIiwibWFwIiwiY2hlY2tHYW1lRW5kIiwibGVuZ3RoIiwiY29uc29sZSIsImxvZyIsIl9nZW5lcmF0ZVZhbHVlc1ZlcnRpY2FsIiwic2hpcExlbmd0aCIsInJhbmRvbVZhbHVlIiwiY29vcmQiLCJuZXdBcnJheSIsInRyaWVkVmVydGljYWwiLCJhdmFpbGlibGVTcXVhcmVzU3RyZyIsIkpTT04iLCJzdHJpbmdpZnkiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJhcnIiLCJmaWx0ZXIiLCJlbGVtIiwiaSIsImNvb3JkU3RyaW5naWZpZWQiLCJpbmRleE9mIiwiX2dlbmVyYXRlVmFsdWVzSG9yaXpvbnRhbCIsInRyaWVkSG9yaXpvbnRhbCIsInBsYWNlU2hpcCIsInhDb29yZCIsInlDb29yZCIsImNhc2VzIiwic2hpcCIsInJhbmRvbU51bSIsInNxdWFyZXNUYWtlbkJ5U2hpcCIsInJlY2lldmVBdHRhY2siLCJvYmoiLCJoaXQiLCJyYW5kb21pemUiLCJyZXN0YXJ0IiwiZ2FtZUJvYXJkT2JqIiwiYXZhaWxpYmxlQ29vcmRpbmF0ZXMiLCJfcmFuZG9tQ29vcmRpbmF0ZXMiLCJzcGxpY2UiLCJhdHRhY2siLCJlbmVteSIsInJhbmRvbUNvb3JkaW5hdGVzIiwiaGl0U2NvcmUiLCJfX19DU1NfTE9BREVSX0VYUE9SVF9fXyIsImlkIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsImxpc3QiLCJ0b1N0cmluZyIsInRoaXMiLCJpdGVtIiwiY29udGVudCIsIm5lZWRMYXllciIsImNvbmNhdCIsImpvaW4iLCJtb2R1bGVzIiwibWVkaWEiLCJkZWR1cGUiLCJzdXBwb3J0cyIsImxheWVyIiwidW5kZWZpbmVkIiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImsiLCJfayIsImNzc01hcHBpbmciLCJidG9hIiwiYmFzZTY0IiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJkYXRhIiwic291cmNlTWFwcGluZyIsInNvdXJjZVVSTHMiLCJzb3VyY2VzIiwic291cmNlIiwic291cmNlUm9vdCIsIm9wdGlvbnMiLCJzdHlsZVRhZ1RyYW5zZm9ybSIsInNldEF0dHJpYnV0ZXMiLCJpbnNlcnQiLCJkb21BUEkiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZXNJbkRPTSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsInJlc3VsdCIsIm1vZHVsZXNUb0RvbSIsImlkQ291bnRNYXAiLCJpZGVudGlmaWVycyIsImJhc2UiLCJjb3VudCIsImluZGV4QnlJZGVudGlmaWVyIiwiY3NzIiwic291cmNlTWFwIiwicmVmZXJlbmNlcyIsInVwZGF0ZXIiLCJhZGRFbGVtZW50U3R5bGUiLCJieUluZGV4IiwiYXBpIiwidXBkYXRlIiwibmV3T2JqIiwibGFzdElkZW50aWZpZXJzIiwibmV3TGlzdCIsImluZGV4IiwibmV3TGFzdElkZW50aWZpZXJzIiwiX2kiLCJfaW5kZXgiLCJtZW1vIiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJ3aW5kb3ciLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJlIiwiZ2V0VGFyZ2V0IiwiRXJyb3IiLCJlbGVtZW50IiwiYXR0cmlidXRlcyIsInN0eWxlRWxlbWVudCIsIm5vbmNlIiwiYXBwbHkiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImNyZWF0ZVRleHROb2RlIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsIm4iLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZCIsImEiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInBsYXllck9iaiIsInBsYXllciIsImNvbXB1dGVyIiwicmFuZG9tYnRuIiwiZ2FtZUxvb3AiLCJjb21wdXRlckRpdnMiLCJhdHRhY2tDb21wdXRlciIsImRhdGFzZXQiLCJzcGxpdCIsInBhcnNlSW50Iiwic2V0VGltZW91dCIsImFkZEV2ZW50TGlzdGVuZXIiLCJvbmNlIiwicmVzdGFydEJ1dHRvbiJdLCJzb3VyY2VSb290IjoiIn0=